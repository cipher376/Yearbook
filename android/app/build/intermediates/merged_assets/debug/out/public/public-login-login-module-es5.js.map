{"version":3,"sources":["webpack:///src/app/public/login/login.page.html","webpack:///src/app/public/login/login.module.ts","webpack:///src/app/public/login/login.page.scss","webpack:///src/app/public/login/login.page.ts"],"names":["routes","path","component","LoginPageModule","imports","forChild","declarations","LoginPage","router","route","userService","fb","store","menu","toaster","util","loadCtrl","alertCtrl","browserHistory","previousPage","_isName","_isEmail","_isPhone","_isPassword","isShow","history$","previousPageSource$","subscribe","getObject","then","user","console","log","snapshot","params","clear","logout","loginForm","group","email","required","minLength","maxLength","password","remember","destroySubscription","_loading","dismiss","error","valid","toast","create","message","stopLoading","present","login","value","res","getMyProfile","phone","navigateByUrl","getPreviousUrl","selector","template"],"mappings":"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;;AACD,uBA/CG,CAAN;;;;;;;;;AAiDD,WAlLmB,CAoLpB;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAnMoB;AAAA;AAAA,qCAqMTS,KArMS,EAqMM;AACxB;AACA,oBAAQA,KAAR;AACE,mBAAK,OAAL;AACE,qBAAKnC,QAAL,GAAgB,IAAhB;AACA;;AACF,mBAAK,OAAL;AACE,qBAAKC,QAAL,GAAgB,IAAhB;AACA;;AACF,mBAAK,UAAL;AACE,qBAAKC,WAAL,GAAmB,IAAnB;AACA;AATJ;AAWD,WAlNmB,CAoNpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;AAtXoB;AAAA;AAAA,+CAwXC;AACnB,iBAAKf,MAAL,CAAYoD,aAAZ,CAA0B,kBAA1B;AACD;AA1XmB;AAAA;AAAA,yCA4XL;AACb,iBAAKpD,MAAL,CAAYoD,aAAZ,CAA0B,WAA1B;AACD;AA9XmB;AAAA;AAAA,mCAgYX;AACP,iBAAKpD,MAAL,CAAYoD,aAAZ,CAA0B,KAAK1C,cAAL,CAAoB2C,cAApB,EAA1B;AACD;AAlYmB;;AAAA;AAAA,S;;;;gBAfb;;gBAAQ;;gBAER;;gBAJW;;gBAFX;;gBAKA;;gBAEA;;gBACA;;gBAHgB;;gBAAmB;;gBAInC;;;;AAUItD,eAAS,6DALrB,gEAAU;AACTuD,gBAAQ,EAAE,WADD;AAETC,gBAAQ,EAAR;AAAA;AAAA,mGAFS;;;;AAAA,OAAV,CAKqB,GAATxD,SAAS,CAAT","file":"public-login-login-module-es5.js","sourcesContent":["export default \"<ion-content>\\r\\n  <ion-row class=\\\"ion-padding\\\" style=\\\"margin-top: 2vh;\\\">\\r\\n    <ion-col size=\\\"6\\\" (click)=\\\"goBack()\\\" >\\r\\n      <ion-icon name=\\\"chevron-back-outline\\\" class=\\\"fs-20\\\" ></ion-icon>&nbsp;\\r\\n      <ion-label style=\\\"margin-top: 1px; position: absolute; font-size:12px\\\" >back</ion-label>\\r\\n    </ion-col>\\r\\n    <ion-col size=\\\"6\\\" class=\\\"ion-float-right\\\" >\\r\\n      <ion-label class=\\\"ion-float-right fs-12\\\" (click)=\\\"gotoRegister()\\\">Sign up</ion-label>\\r\\n    </ion-col>\\r\\n  </ion-row>\\r\\n  <form [formGroup]=\\\"loginForm\\\" padding >\\r\\n    <ion-row >\\r\\n      <ion-col size=\\\"1\\\"></ion-col>\\r\\n      <ion-col size=\\\"10\\\" >\\r\\n        <ion-item [ngClass]=\\\"{ 'invalid-item-md': '!loginForm.controls.email.valid' }\\\" lines=\\\"none\\\">\\r\\n          <!-- <ion-icon name=\\\"person\\\" padding size=\\\"small\\\"></ion-icon>  &nbsp; -->\\r\\n          <ion-input class=\\\"input-w-icon\\\" formControlName=\\\"email\\\" type=\\\"email\\\" (keyup)=\\\"onValidate('email')\\\" placeholder=\\\"Email\\\">\\r\\n          </ion-input>\\r\\n          <ion-icon color=\\\"success\\\" size=\\\"small\\\" name=\\\"checkmark-circle-outline\\\" *ngIf=\\\"\\r\\n            !loginForm.get('email').errors && loginForm.get('email').dirty&& this.loginForm.value.email!==''\\r\\n          \\\"></ion-icon>\\r\\n          <ion-icon color=\\\"danger\\\" size=\\\"small\\\" name=\\\"close-circle-outline\\\" *ngIf=\\\"\\r\\n            loginForm.get('email').errors && loginForm.get('email').dirty&& this.loginForm.value.email!==''\\r\\n          \\\"></ion-icon>\\r\\n        </ion-item>\\r\\n\\r\\n        <ion-item lines=\\\"none\\\">\\r\\n          <!-- <ion-icon name=\\\"key\\\" padding size=\\\"small\\\"></ion-icon>  &nbsp; -->\\r\\n          <ion-input class=\\\"input-w-icon\\\" placeholder=\\\"Password\\\"  type=\\\"{{isShow?'text':'password'}}\\\" formControlName=\\\"password\\\"\\r\\n            (keyup)=\\\"onValidate('password')\\\" >\\r\\n          </ion-input>\\r\\n          <ion-icon color=\\\"success\\\" size=\\\"small\\\" name=\\\"checkmark-circle-outline\\\" *ngIf=\\\"\\r\\n            !loginForm.get('password').errors &&\\r\\n            loginForm.get('password').dirty&& this.loginForm.value.password!==''\\r\\n          \\\"></ion-icon>\\r\\n          <ion-icon color=\\\"danger\\\" size=\\\"small\\\" name=\\\"close-circle-outline\\\" *ngIf=\\\"\\r\\n            loginForm.get('password').errors &&\\r\\n            loginForm.get('password').dirty&& this.loginForm.value.password!==''\\r\\n          \\\"></ion-icon>\\r\\n          <ion-icon size=\\\"small\\\" name=\\\"eye-outline\\\" \\r\\n          *ngIf=\\\"loginForm.get('password').dirty && this.loginForm.value.password!==''\\\" (click)=\\\"isShow=!isShow\\\"></ion-icon> \\r\\n        </ion-item>\\r\\n      </ion-col>\\r\\n      <ion-col size=\\\"1\\\"></ion-col>\\r\\n      <ion-col size=\\\"1\\\"></ion-col>\\r\\n\\r\\n      <ion-col size=\\\"10\\\" class=\\\"ion-align-items-right\\\">\\r\\n        <ion-note style=\\\"margin-right: 5.5%;\\\" (click)=\\\"gotoForgotPassword()\\\"\\r\\n        class=\\\"ion-float-right poppins-bold fs-12 fc-primary \\\">\\r\\n          Forget Password?</ion-note>\\r\\n      </ion-col>\\r\\n      <ion-col size=\\\"1\\\"></ion-col>\\r\\n\\r\\n    </ion-row>\\r\\n\\r\\n\\r\\n    <ion-row style=\\\"margin-top: 10vh;\\\">\\r\\n      <ion-col size=\\\"2\\\"></ion-col> \\r\\n      <ion-col size=\\\"8\\\">\\r\\n        <ion-button shape=\\\"round\\\" expand=\\\"block\\\" class=\\\"fs-16 poppins-bold\\\" (click)=\\\"onLogin()\\\">L<span class=\\\"ion-text-lowercase\\\">og in</span></ion-button>\\r\\n      </ion-col>\\r\\n      <ion-col size=\\\"2\\\"></ion-col> \\r\\n    </ion-row>\\r\\n\\r\\n  </form>\\r\\n  <!-- <section padding style=\\\"padding-top:0\\\">\\r\\n    <ion-row padding style=\\\"padding-top:0\\\">\\r\\n      <ion-col size=\\\"5\\\">\\r\\n        <hr />\\r\\n      </ion-col>\\r\\n      <ion-col size=\\\"2\\\">\\r\\n        <span class=\\\"text-color\\\" style=\\\"width: 100%;\\\">\\r\\n          <ion-text style=\\\"margin-left: 32%;\\\"></ion-text>\\r\\n        </span>\\r\\n      </ion-col>\\r\\n      <ion-col size=\\\"6\\\">\\r\\n        <ion-button color='none' expand=\\\"full\\\" style=\\\"margin:0;\\r\\n        padding: 0; background: #1953b7;\\\">Facebook</ion-button>\\r\\n      </ion-col>\\r\\n      <ion-col size=\\\"6\\\">\\r\\n        <ion-button color=\\\"google\\\" expand=\\\"full\\\" style=\\\"background: #902b22; margin:0;\\r\\n        padding: 0;\\\">Google</ion-button>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </section>\\r\\n  <section padding>\\r\\n    <ion-row padding>\\r\\n      <ion-col padding size=\\\"12\\\"></ion-col>\\r\\n    </ion-row>\\r\\n    <ion-row padding>\\r\\n      <ion-col size=\\\"3\\\"> </ion-col>\\r\\n      <ion-col size=\\\"3\\\" (click)=\\\"gotoForgotPassword()\\\" style=\\\"text-align:right\\\">\\r\\n        <ion-label  color='primary' >Forgot password?</ion-label>\\r\\n      </ion-col>\\r\\n      <ion-col size=\\\"3\\\" (click)=\\\"gotoRegister()\\\" style=\\\"text-align:left !important;\\\">\\r\\n        <ion-label color='primary' >Register\\r\\n        </ion-label>\\r\\n      </ion-col>\\r\\n      <ion-col size=\\\"3\\\"> </ion-col>\\r\\n\\r\\n    </ion-row>\\r\\n  </section> -->\\r\\n\\r\\n  <!-- <ion-row padding style=\\\"text-align: center;\\\">\\r\\n    <ion-col size=\\\"12\\\">\\r\\n       <ion-label style=\\\"text-align:left\\\" (click)=\\\"showPrivacyNote()\\\"> <a href=\\\"\\\">Privacy Note</a> </ion-label><br><br>\\r\\n      <ion-label style=\\\"text-align:right\\\"> <a href=\\\"\\\" (click)=\\\"showFameWebsite()\\\">#natlink.xyz </a> <br>All rights\\r\\n        reserved.</ion-label> \\r\\n    </ion-col> \\r\\n  </ion-row>-->\\r\\n</ion-content>\";","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { LoginPage } from './login.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LoginPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [LoginPage]\r\n})\r\nexport class LoginPageModule {}\r\n","export default \"ion-item {\\n  width: 100%;\\n  height: auto;\\n}\\n\\n.social {\\n  padding-left: 10%;\\n  padding-right: 10%;\\n}\\n\\n.text-center p {\\n  margin: 0px;\\n}\\n\\np {\\n  padding: 0px;\\n}\\n\\nform {\\n  margin-top: 4vh !important;\\n}\\n\\n.invalid.item-md.item-block .item-inner {\\n  border-bottom: 1px solid red !important;\\n}\\n\\n.item-md.item-block .item-inner {\\n  border-bottom: 1px solid red !important;\\n}\\n\\n.invalid.item-ios.item-block .item-inner {\\n  border-bottom: 1px solid red !important;\\n}\\n\\n.item-ios.item-block .item-inner {\\n  border-bottom: 1px solid red !important;\\n}\\n\\n.invalid-item-md .invalid.item-md.item-block .item-inner {\\n  border-bottom: 1px solid red !important;\\n}\\n\\n.invalid-item-md .item-md.item-block .item-inner {\\n  border-bottom: 1px solid red !important;\\n}\\n\\n.invalid-item-ios .invalid.item-ios.item-block .item-inner {\\n  border-bottom: 1px solid red !important;\\n}\\n\\n.invalid-item-ios .item-ios.item-block .item-inner {\\n  border-bottom: 1px solid black !important;\\n}\\n\\n.google-button button {\\n  background: #902b22 !important;\\n  margin: 0;\\n  padding: 0;\\n  margin-top: 5px;\\n}\\n\\n.facebook-button button {\\n  background: #902b22 !important;\\n  margin: 0;\\n  padding: 0;\\n  margin-top: 5px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcHVibGljL2xvZ2luL2xvZ2luLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFJQTtFQUNFLFdBQUE7RUFDQSxZQUFBO0FBSEY7O0FBT0E7RUFDRSxpQkFBQTtFQUNBLGtCQUFBO0FBSkY7O0FBVUU7RUFDRSxXQUFBO0FBUEo7O0FBV0E7RUFDRSxZQUFBO0FBUkY7O0FBV0E7RUFDRSwwQkFBQTtBQVJGOztBQWVBO0VBQ0UsdUNBQUE7QUFaRjs7QUFlQTtFQUNFLHVDQUFBO0FBWkY7O0FBZ0JBO0VBQ0UsdUNBQUE7QUFiRjs7QUFnQkE7RUFDRSx1Q0FBQTtBQWJGOztBQWlCRTtFQUNFLHVDQUFBO0FBZEo7O0FBaUJFO0VBQ0UsdUNBQUE7QUFmSjs7QUFxQkU7RUFDRSx1Q0FBQTtBQWxCSjs7QUFxQkU7RUFDRSx5Q0FBQTtBQW5CSjs7QUF3Q0U7RUFDRSw4QkFBQTtFQUNBLFNBQUE7RUFDQSxVQUFBO0VBQ0EsZUFBQTtBQXJDSjs7QUEyQ0U7RUFDRSw4QkFBQTtFQUNBLFNBQUE7RUFDQSxVQUFBO0VBQ0EsZUFBQTtBQXhDSiIsImZpbGUiOiJzcmMvYXBwL3B1YmxpYy9sb2dpbi9sb2dpbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBodHRwOi8vaW9uaWNmcmFtZXdvcmsuY29tL2RvY3MvdGhlbWluZy9cclxuXHJcblxyXG5cclxuaW9uLWl0ZW0ge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGhlaWdodDogYXV0bztcclxuXHJcbn1cclxuXHJcbi5zb2NpYWwge1xyXG4gIHBhZGRpbmctbGVmdDogMTAlO1xyXG4gIHBhZGRpbmctcmlnaHQ6IDEwJTtcclxufVxyXG5cclxuXHJcblxyXG4udGV4dC1jZW50ZXIge1xyXG4gIHAge1xyXG4gICAgbWFyZ2luOiAwcHhcclxuICB9XHJcbn1cclxuXHJcbnAge1xyXG4gIHBhZGRpbmc6IDBweDtcclxufVxyXG5cclxuZm9ybSB7XHJcbiAgbWFyZ2luLXRvcDogNHZoICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcblxyXG5cclxuXHJcbi8vIEFORFJPSURcclxuLmludmFsaWQuaXRlbS1tZC5pdGVtLWJsb2NrIC5pdGVtLWlubmVyIHtcclxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgcmVkICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5pdGVtLW1kLml0ZW0tYmxvY2sgLml0ZW0taW5uZXIge1xyXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZWQgIWltcG9ydGFudDtcclxufVxyXG5cclxuLy9JT1NcclxuLmludmFsaWQuaXRlbS1pb3MuaXRlbS1ibG9jayAuaXRlbS1pbm5lciB7XHJcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJlZCAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4uaXRlbS1pb3MuaXRlbS1ibG9jayAuaXRlbS1pbm5lciB7XHJcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJlZCAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4uaW52YWxpZC1pdGVtLW1kIHtcclxuICAuaW52YWxpZC5pdGVtLW1kLml0ZW0tYmxvY2sgLml0ZW0taW5uZXIge1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJlZCAhaW1wb3J0YW50O1xyXG4gIH1cclxuXHJcbiAgLml0ZW0tbWQuaXRlbS1ibG9jayAuaXRlbS1pbm5lciB7XHJcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgcmVkICFpbXBvcnRhbnQ7XHJcbiAgfVxyXG59XHJcblxyXG4uaW52YWxpZC1pdGVtLWlvcyB7XHJcblxyXG4gIC5pbnZhbGlkLml0ZW0taW9zLml0ZW0tYmxvY2sgLml0ZW0taW5uZXIge1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJlZCAhaW1wb3J0YW50O1xyXG4gIH1cclxuXHJcbiAgLml0ZW0taW9zLml0ZW0tYmxvY2sgLml0ZW0taW5uZXIge1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIGJsYWNrICFpbXBvcnRhbnQ7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuLy8gaW9uLWl0ZW0ge1xyXG4vLyAgIC0tYmFja2dyb3VuZDogJHByaW1hcnktY29sb3I7XHJcbi8vICAgLS1iYWNrZ3JvdW5kLWFjdGl2YXRlZDogcmVkO1xyXG5cclxuLy8gICBpb24taW5wdXQge1xyXG4vLyAgICAgLy8gLS1iYWNrZ3JvdW5kOiAjMzM2YmQ4ICFpbXBvcnRhbnQ7XHJcbi8vICAgICAtLWNvbG9yOiAkbGlnaHQtY29sb3I7XHJcbi8vICAgfVxyXG5cclxuLy8gICBpb24taWNvbiB7XHJcbi8vICAgICAtLWNvbG9yOiAkcHJpbWFyeS1kYXJrO1xyXG4vLyAgIH1cclxuLy8gfVxyXG5cclxuLmdvb2dsZS1idXR0b24ge1xyXG5cclxuICBidXR0b24ge1xyXG4gICAgYmFja2dyb3VuZDogIzkwMmIyMiAhaW1wb3J0YW50O1xyXG4gICAgbWFyZ2luOiAwO1xyXG4gICAgcGFkZGluZzogMDtcclxuICAgIG1hcmdpbi10b3A6IDVweDtcclxuICB9XHJcblxyXG59XHJcbi5mYWNlYm9vay1idXR0b24ge1xyXG5cclxuICBidXR0b24ge1xyXG4gICAgYmFja2dyb3VuZDogIzkwMmIyMiAhaW1wb3J0YW50O1xyXG4gICAgbWFyZ2luOiAwO1xyXG4gICAgcGFkZGluZzogMDtcclxuICAgIG1hcmdpbi10b3A6IDVweDtcclxuICB9XHJcblxyXG59XHJcbi5pbnB1dCB7XHJcbiAgXHJcbn1cclxuIl19 */\";","import { MyStorage } from './../../shared/services/providers/storage/my-storage.service';\r\n\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { Component, OnInit, OnDestroy, AfterViewInit } from '@angular/core';\r\nimport { Router, ActivatedRoute, ActivatedRouteSnapshot } from '@angular/router';\r\nimport { MenuController, LoadingController, AlertController, Platform } from '@ionic/angular';\r\nimport { UserService } from 'src/app/shared/services/model-service/user.service';\r\nimport { ToasterService } from 'src/app/shared/services/providers/widgets/toaster.service';\r\nimport { UtilityService } from 'src/app/shared/services/providers/utility.service';\r\nimport { BrowserHistoryService } from 'src/app/shared/services/providers/navigation/browser-history.service';\r\nimport { User } from 'src/app/models/user';\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.page.html',\r\n  styleUrls: ['./login.page.scss']\r\n})\r\nexport class LoginPage implements OnInit, OnDestroy, AfterViewInit {\r\n  previousPage = '';\r\n  history$;\r\n\r\n\r\n  loginForm: FormGroup;\r\n  _loading: HTMLIonLoadingElement;\r\n\r\n  _isName = false;\r\n  _isEmail = false;\r\n  _isPhone = false;\r\n  _isPassword = false;\r\n  isShow = false;\r\n\r\n  // _isLogin = false;\r\n  user: User;\r\n  // _browserOption = 'location=yes,hidden=no,clearcache=yes,clearsessioncache=yes,hardwareback=yes,hidenavigationbuttons=yes,hideurlbar=no';\r\n  // _socialToken: any;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private userService: UserService,\r\n    private fb: FormBuilder,\r\n    private store: MyStorage,\r\n    private menu: MenuController,\r\n    private toaster: ToasterService,\r\n    private util: UtilityService,\r\n    private loadCtrl: LoadingController,\r\n    // private platform: Platform,\r\n    public alertCtrl: AlertController,\r\n    // private _browser: InAppBrowser,\r\n    private browserHistory: BrowserHistoryService\r\n\r\n  ) {\r\n\r\n    // this.fb.logout().then(_ => {\r\n    //   console.log(_);\r\n    // });\r\n    this.history$ = this.browserHistory.previousPageSource$.subscribe(previousPage => {\r\n      this.previousPage = previousPage;\r\n    });\r\n\r\n    this.store.getObject<User>('user').then(user => {\r\n      this.user = user;\r\n      console.log(this.user);\r\n    });\r\n\r\n  }\r\n  ngAfterViewInit(): void {\r\n    if (this.route?.snapshot?.params?.clear) {\r\n      // clear data from store \r\n      this.userService.logout();\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n    // disable the menu\r\n    // this.enablePublicMenu();\r\n    // this._fameIdentity = <FameIdentity>{};\r\n    this.loginForm = this.fb.group({\r\n      email: [\r\n        'lraincin5@cbc.ca',\r\n        [\r\n          Validators.required,\r\n          Validators.email,\r\n          Validators.minLength(6),\r\n          Validators.maxLength(30)\r\n        ]\r\n      ],\r\n      password: [\r\n        'J8CKPfLdn',\r\n        [Validators.required, Validators.minLength(5), Validators.maxLength(20)]\r\n      ],\r\n      remember: [false]\r\n    });\r\n\r\n    // this._fstore.set('is_login', false).then(_ => { });\r\n    // try {\r\n    //   this.route.queryParamMap.subscribe(params => {\r\n    //     this._socialToken = { token: params.get('access-token'), userId: params.get('user-id') };\r\n    //     if (this._socialToken) {\r\n    //       this._fstore.setObject('social_token', this._socialToken).then(_ => { });\r\n    //     } else {\r\n    //       this._fstore.remove('social_token').then(_ => { });\r\n    //     }\r\n    //     // alert(this.router.url);\r\n\r\n    //     // valid token exist\r\n    //     if (this._socialToken.token) {\r\n    //       // store the token for future access\r\n    //       this._auth.setSocialSDKToken(this._socialToken.token, this._socialToken.userId);\r\n    //     } else {\r\n    //       // this._auth.logout();\r\n    //       // this._fstore.remove('user').then(_ => { });\r\n    //       if (this._loading) {\r\n    //         this._loading.dismiss();\r\n    //       }\r\n    //     }\r\n    //   });\r\n    // } catch (e) {\r\n    //   console.log(e);\r\n    // }\r\n\r\n    // Get social user from database if exist\r\n    // this.socialAuthentication();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    UtilityService.destroySubscription(this.history$);\r\n    try {\r\n      this._loading.dismiss();\r\n    } catch (error) {\r\n\r\n    }\r\n  }\r\n  // Validators.pattern(\"(?=^.{8,}$)((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z])(?=.*[a-z]).*$\"),\r\n\r\n  async onLogin() {\r\n    if (!this.loginForm.valid) {\r\n      this.toaster.toast('Provide valid credentials');\r\n      return;\r\n    }\r\n    this._loading = await this.loadCtrl.create({\r\n      message: 'Welcome to YEARBOOK'\r\n    });\r\n    UtilityService.stopLoading(this._loading);\r\n    await this._loading.present();\r\n    await this.userService.login(this.loginForm.value).subscribe(\r\n      res => {\r\n        if (res) {\r\n          // fetch user details\r\n          this.userService.getMyProfile().subscribe(user => {\r\n            this.user = user;\r\n            console.log(this.user);\r\n            if (this.user?.phone) {\r\n              this.router.navigateByUrl('/links/home');\r\n            } else {\r\n              this.router.navigateByUrl('/phone-number');\r\n            }\r\n          });\r\n        }\r\n        this._loading.dismiss();\r\n      },\r\n      error => {\r\n        console.log(error);\r\n        this.toaster.toast(error.message, 4000);\r\n        this._loading.dismiss();\r\n        // if (error.search('verified') > -1) {\r\n        //   this.alertCtrl.create({\r\n        //     header: `Email is not verified. A verification link is sent to the email provided but it may take up 10min to show up. check spam if not in your In-box Verify your email now?`,\r\n        //     message: '',\r\n        //     buttons: [\r\n        //       {\r\n        //         text: 'No',\r\n        //         role: 'cancel',\r\n        //         cssClass: 'secondary',\r\n        //         handler: (blah) => {\r\n        //           this.toaster.toast('Email is not verified! Check your email for verification link or reset password', 60);\r\n        //         }\r\n        //       }, {\r\n        //         text: 'Yes',\r\n        //         handler: () => {\r\n        //           const temp = this.loginForm.value.email.split('@');\r\n        //           if (temp.length > 1) {\r\n        //             // this.emailBrowser('https://www.' + temp[1]);\r\n        //           }\r\n        //         }\r\n        //       }\r\n        //     ],\r\n        //     translucent: true,\r\n        //   }).then(alert => alert.present());\r\n        // } else {\r\n        //   this.toaster.toast('Check Credentials | Network');\r\n        // }\r\n      }\r\n    );\r\n  }\r\n\r\n  // async emailBrowser(url: string) {\r\n  //   this._loading = await this.loadCtrl.create({\r\n  //     message: 'Accessing privacy statement ... '\r\n  //   });\r\n  //   this._loading.present();\r\n  //   const browserRef: InAppBrowserObject = this._browser.create(url,\r\n  //     '_system', this._browserOption);\r\n\r\n\r\n  //   browserRef.on('loadstop').subscribe(event => {\r\n  //     this._loading.dismiss();\r\n  //   });\r\n  //   browserRef.on('exit').subscribe(event => {\r\n  //     this._loading.dismiss();\r\n  //   });\r\n  // }\r\n\r\n  onValidate(value: string) {\r\n    // console.log(value);\r\n    switch (value) {\r\n      case 'email':\r\n        this._isEmail = true;\r\n        break;\r\n      case 'phone':\r\n        this._isPhone = true;\r\n        break;\r\n      case 'password':\r\n        this._isPassword = true;\r\n        break;\r\n    }\r\n  }\r\n\r\n  // async socialAuthentication() {\r\n  //   this._socialToken = await this._fstore.getObject('social_token');\r\n  //   if (this._socialToken && this._socialToken.token) {\r\n  //     this._loading = await this.loadCtrl.create({\r\n  //       message: 'Authenticating ... '\r\n  //     });\r\n  //     await this._loading.present();\r\n  //     this._user.getSocialFameIdentityById(this._socialToken.userId).subscribe((fameIdentity: FameIdentity) => {\r\n  //       if (fameIdentity) {\r\n  //         this._user.getSocialUserIdentityById(this._socialToken.userId)\r\n  //           .subscribe((userIdentity: UserIdentity) => {\r\n  //             console.log(userIdentity);\r\n  //             const user = new FameUser();\r\n  //             user.dateCreated = userIdentity.created;\r\n  //             user.dateModified = userIdentity.modified;\r\n  //             user.name = new Name();\r\n  //             user.name.first = userIdentity.profile.name.familyName;\r\n  //             user.name.last = userIdentity.profile.name.givenName;\r\n\r\n  //             // Create client side identity\r\n  //             if (userIdentity.profile && userIdentity.profile._json && userIdentity.profile._json.email) {\r\n  //               fameIdentity.email = userIdentity.profile._json.email;\r\n  //             }\r\n  //             fameIdentity.fameUser = user;\r\n  //             // fameIdentity.fameUser.identity = fameIdentity;\r\n  //             this._fameIdentity = fameIdentity;\r\n\r\n  //             // save profile image to disk\r\n  //             if (userIdentity.profile._json.picture) {\r\n  //               this._fstore.set('social_profile_image', userIdentity.profile._json.picture)\r\n  //                 .then(_ => {  // redirect to the correct page\r\n  //                   this.redirectUserToPage();\r\n  //                 });\r\n  //             } else {\r\n  //               this._fstore.set('social_profile_image', 'https://graph.facebook.com/' +\r\n  //                 userIdentity.externalId + '/picture?type=large')\r\n  //                 .then(_ => {  // redirect to the correct page\r\n  //                   this.redirectUserToPage();\r\n  //                 });\r\n  //             }\r\n\r\n  //           }, error => {\r\n  //             console.log(error);\r\n  //             this._loading.dismiss();\r\n  //             this._fstore.set('is_login', false).then(_ => { });\r\n  //           });\r\n  //       } else {\r\n  //         this._loading.dismiss();\r\n  //         this._fstore.set('is_login', false).then(_ => { });\r\n  //       }\r\n  //     }, error => {\r\n  //       console.log(error);\r\n  //       this._loading.dismiss();\r\n  //       this._fstore.set('is_login', false).then(_ => { });\r\n\r\n  //     });\r\n\r\n  //   } else {\r\n  //     await this._fstore.set('is_login', false).then(_ => { });\r\n  //   }\r\n  // }\r\n\r\n  // async getFacebookToken() {\r\n  //   this._loading = await this.loadCtrl.create({\r\n  //     message: 'Accessing Facebook ... '\r\n  //   });\r\n  //   this._loading.present();\r\n\r\n  //   const browserRef: InAppBrowserObject = this._browser.create(environment.fb_auth_url,\r\n  //     '_self', this._browserOption);\r\n\r\n  //   browserRef.on('loadstop').subscribe(event => {\r\n  //     this._loading.dismiss();\r\n  //   });\r\n  //   browserRef.on('exit').subscribe(event => {\r\n  //     this._loading.dismiss();\r\n  //   });\r\n  // }\r\n  // async getGoogleToken() {\r\n  //   this._loading = await this.loadCtrl.create({\r\n  //     message: 'Accessing GooglePlus ... '\r\n  //   });\r\n  //   this._loading.present();\r\n\r\n  //   const browserRef: InAppBrowserObject = this._browser.create(environment.google_auth_url,\r\n  //     '_self', this._browserOption);\r\n\r\n  //   browserRef.on('loadstop').subscribe(event => {\r\n  //     this._loading.dismiss();\r\n  //   });\r\n  //   browserRef.on('exit').subscribe(event => {\r\n  //     this._loading.dismiss();\r\n  //   });\r\n  // }\r\n\r\n  // async showPrivacyNote() {\r\n\r\n  //   this._loading.present();\r\n  //   const browserRef: InAppBrowserObject = this._browser.create('https://fame.natlink.xyz#privacy',\r\n  //     '_system', this._browserOption);\r\n\r\n\r\n  //   browserRef.on('loadstop').subscribe(event => {\r\n  //     this._loading.dismiss();\r\n  //   });\r\n  //   browserRef.on('exit').subscribe(event => {\r\n  //     this._loading.dismiss();\r\n  //   });\r\n  // }\r\n\r\n  // async showFameWebsite() {\r\n\r\n  //   const browserRef: InAppBrowserObject = this._browser.create('https://fame.natlink.xyz',\r\n  //     '_system', this._browserOption);\r\n\r\n  //   browserRef.on('loadstop').subscribe(event => {\r\n  //     this._loading.dismiss();\r\n  //   });\r\n  //   browserRef.on('exit').subscribe(event => {\r\n  //     this._loading.dismiss();\r\n  //   });\r\n  // }\r\n\r\n\r\n  // async redirectUserToPage() {\r\n  //   this.enableAuthenticatedMenu();\r\n  //   this._auth.isAuthenticated(); // broadcast login successful\r\n  //   this._fstore.set('is_login', true).then(_ => { });\r\n\r\n  //   // if social update the current user object\r\n  //   await this._fstore.setObject('user', this._fameIdentity);\r\n  //   // console.log(this._fameIdentity.fameUser);\r\n  //   if (this._fameIdentity.fameUser && this._fameIdentity.fameUser.id) {\r\n  //     // User details exist\r\n  //     // route due to how much information you have\r\n  //     this.router.navigateByUrl('/home');\r\n\r\n  //     if (this._loading) {\r\n  //       this._loading.dismiss();\r\n  //     }\r\n\r\n  //   } else {\r\n  //     // no details in profile\r\n  //     // this._navCtrl.setDirection('root');\r\n  //     // this._navCtrl.navigateRoot(['/edit-profile']);\r\n  //     this.router.navigateByUrl('/edit-profile');\r\n  //   }\r\n  //   if (this._loading) {\r\n  //     this._loading.dismiss();\r\n  //   }\r\n  // }\r\n\r\n  // enableAuthenticatedMenu() {\r\n  //   this._menu.enable(true, 'private');\r\n  //   this._menu.enable(false, 'public');\r\n  //   this._menu.close();\r\n  // }\r\n\r\n  // enablePublicMenu() {\r\n  //   this._menu.enable(true, 'public');\r\n  //   this._menu.enable(false, 'private');\r\n  //   this._menu.close();\r\n  // }\r\n\r\n  gotoForgotPassword() {\r\n    this.router.navigateByUrl('/forgot-password');\r\n  }\r\n\r\n  gotoRegister() {\r\n    this.router.navigateByUrl('/register');\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigateByUrl(this.browserHistory.getPreviousUrl());\r\n  }\r\n  // async presentAlert() {\r\n  //   const alert = await this.alertCtrl.create({\r\n  //     message: 'Cordova is not available on desktop. Please try this in a real device or in an emulator.',\r\n  //     buttons: ['OK']\r\n  //   });\r\n  //   await alert.present();\r\n  // }\r\n}\r\n"]}