{"version":3,"sources":["webpack:///src/app/members/profile/profile.page.html","webpack:///src/app/members/profile/profile.module.ts","webpack:///src/app/members/profile/profile.page.scss","webpack:///src/app/members/profile/profile.page.ts"],"names":["routes","path","component","ProfilePageModule","imports","forChild","declarations","ProfilePage","userService","alumniService","postService","schoolService","browserHistory","router","signals","socialService","route","currentSegment","selectedUserSchools","selectedUserFollowedSchools","schoolsIdentityPhotos","selectedUserPosts","totalPost","selectedUserAlumni","degrees","selectedUserComments","postLimit","postOffset","followedSchoolsLimit","followedSchoolsOffset","profileFixedMenu","sub$","previousPage","push","previousPageSource$","subscribe","destroySubscription","selectedUserSource$","_","init","getUserLocal","user","snapshot","params","selectedUser","setSelectedUserLocal","window","location","href","getSelectedUserLocal","console","log","filter","include","relation","getUserDetails","id","u","identityPhoto","getUserIdentityPhoto","getUserAlumni","a","forEach","alu","degree","SortDegree","length","highestDegreeEnrolled","getAlumniByDegree","followSource$","isFollowing","loadFollowedSchools","loadSchools","getUserPost","countPost","pageInfo","limit","offset","getUserPosts","posts","infiniteScrollTarget","complete","event","target","countUserPost","count","getUserSchools","schools","getIdentityPhotos","navigateByUrl","getPreviousUrl","reset","getUserFollowedSchools","fs","value","selector","template"],"mappings":"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","file":"profile-profile-module-es5.js","sourcesContent":["export default \"<ion-content>\\r\\n  <ion-row class=\\\"ion-padding\\\" class=\\\"tag\\\">\\r\\n    <ion-col size=\\\"6\\\" (click)=\\\"goBack()\\\">\\r\\n      <ion-icon name=\\\"chevron-back-outline\\\" class=\\\"fs-20\\\" color=\\\"medium\\\"></ion-icon>&nbsp;\\r\\n      <ion-label style=\\\"margin-top: 1px; position: absolute; font-size:12px\\\"></ion-label>\\r\\n    </ion-col>\\r\\n    <ion-col size=\\\"6\\\" class=\\\"ion-float-right\\\">\\r\\n      <!-- <ion-label class=\\\"ion-float-right fs-12\\\" (click)=\\\"connect()\\\" style=\\\"    color: white !important;\\\">Connect\\r\\n      </ion-label> -->\\r\\n    </ion-col>\\r\\n  </ion-row>\\r\\n\\r\\n  <ion-row appWatchElement [elementId]=\\\"'profileMenu'\\\" id=\\\"profileMenu\\\" (isOut)=\\\"profileFixedMenu=$event\\\">\\r\\n    <ion-card class=\\\" w-100\\\" style=\\\"height: 250px;\\\">\\r\\n      <div class=\\\"backdrop h-100 w-100\\\"></div>\\r\\n      <ion-card-header [background-image]=\\\"identityPhoto?.cover?.fileUrl || '../../../assets/images/ACOPROM1.jpg'\\\"\\r\\n        class=\\\"card-header-bg ion-no-padding ion-padding-top\\\">\\r\\n        <ion-row style=\\\"z-index:4;\\\">\\r\\n          <ion-col class=\\\"ion-no-padding ion-no-margin\\\" size=\\\"5\\\"></ion-col>\\r\\n          <ion-col class=\\\"ion-no-padding ion-no-margin\\\" size=\\\"2\\\" style=\\\"z-index: 4;\\\">\\r\\n            <ion-avatar>\\r\\n              <img [src]=\\\"identityPhoto?.profile?.fileUrl\\\">\\r\\n            </ion-avatar>\\r\\n          </ion-col>\\r\\n          <ion-col class=\\\"ion-no-padding ion-no-margin\\\" size=\\\"5\\\"></ion-col>\\r\\n          <ion-col size=\\\"12\\\" class=\\\"text-center\\\" color=\\\"white\\\" style=\\\"z-index: 4; color: white\\\">\\r\\n            <h5> {{ selectedUser?.firstName }} {{ selectedUser?.otherName}} {{ selectedUser?.lastName }} </h5>\\r\\n            <small class=\\\"mx-auto w-50\\\" *ngIf=\\\"highestDegreeEnrolled?.degree\\\">\\r\\n              {{highestDegreeEnrolled?.degree?.type}} {{highestDegreeEnrolled?.degree?.programme}}<br>\\r\\n              @{{highestDegreeEnrolled?.school?.name}}\\r\\n            </small>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n      </ion-card-header>\\r\\n    </ion-card>\\r\\n  </ion-row>\\r\\n  <ion-row class=\\\"\\\">\\r\\n    <ion-card class=\\\"w-100 ion-padding-top ion-padding-bottom main\\\">\\r\\n      <ion-row class=\\\"ion-no-padding\\\" style=\\\"height: 90px;\\\" [ngClass]=\\\"{'fixed-profile-menu-atop': profileFixedMenu}\\\">\\r\\n        <ion-col size=\\\"12\\\" class=\\\"ion-no-padding ion-no-margin\\\" style=\\\"    \\r\\n          margin-top: -16px;\\r\\n          margin-bottom: 8px;\\r\\n          padding-top: 6px;; background:var(--ion-color-medium-shade)\\\">\\r\\n          <ion-row>\\r\\n            <ion-col size=\\\"3\\\" class=\\\"text-center\\\">\\r\\n              <ion-note class=\\\"poppins-regular fs-13 min-menu\\\">Profile</ion-note>\\r\\n            </ion-col>\\r\\n            <ion-col size=\\\"3\\\" class=\\\"text-center\\\">\\r\\n              <ion-note class=\\\"poppins-regular fs-13 min-menu\\\">Edit</ion-note>\\r\\n            </ion-col>\\r\\n            <ion-col size=\\\"3\\\" class=\\\"text-center\\\">\\r\\n              <ion-note class=\\\"poppins-regular fs-13 min-menu\\\">Media</ion-note>\\r\\n            </ion-col>\\r\\n            <ion-col size=\\\"3\\\" class=\\\"text-center\\\">\\r\\n              <ion-note class=\\\"poppins-regular fs-13 min-menu\\\">Timeline</ion-note>\\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n        </ion-col>\\r\\n        <ion-row class=\\\"ion-no-padding ion-no-margin w-100\\\" *ngIf=\\\"!profileFixedMenu\\\" >\\r\\n          <ion-col size=\\\"4\\\" class=\\\"ion-align-items-center ion-text-center ion-no-padding separator-vertical\\\">\\r\\n            <ion-note color=\\\"dark\\\" class=\\\"poppins-bold fs-16\\\" (click)=\\\"currentSegment='posts'\\\">Posts</ion-note><br>\\r\\n            <ion-note class=\\\"poppins-regular fs-12\\\" (click)=\\\"currentSegment='posts'\\\">{{totalPost}}</ion-note>\\r\\n\\r\\n            <ion-col class=\\\"ion-no-padding\\\" size=\\\"12\\\">\\r\\n              <hr style=\\\"background: #e8e9ed; margin-top: 5px;\\\" width=\\\"70%\\\" *ngIf=\\\"currentSegment=='posts'\\\">\\r\\n            </ion-col>\\r\\n          </ion-col>\\r\\n\\r\\n          <ion-col size=\\\"4\\\" class=\\\"ion-align-items-center ion-text-center ion-no-padding\\\">\\r\\n            <ion-note color=\\\"dark\\\" class=\\\"poppins-bold fs-16\\\" (click)=\\\"currentSegment='schools'\\\">Schools</ion-note><br>\\r\\n            <ion-note class=\\\"poppins-regular fs-12\\\" (click)=\\\"currentSegment='schools'\\\">{{selectedUserSchools?.length}}\\r\\n            </ion-note>\\r\\n\\r\\n            <ion-col class=\\\"ion-no-padding\\\" size=\\\"12\\\" *ngIf=\\\"currentSegment=='schools'\\\">\\r\\n              <hr style=\\\"background: #e8e9ed; margin-top: 5px;\\\" width=\\\"70%\\\">\\r\\n            </ion-col>\\r\\n          </ion-col>\\r\\n\\r\\n          <ion-col size=\\\"4\\\" class=\\\"ion-align-items-center ion-text-center ion-no-padding separator-vertical\\\">\\r\\n            <ion-note color=\\\"dark\\\" class=\\\"poppins-bold fs-16\\\" (click)=\\\"currentSegment='following'\\\">Following</ion-note>\\r\\n            <br>\\r\\n            <ion-note class=\\\"poppins-regular fs-12\\\" (click)=\\\"currentSegment='following'\\\">\\r\\n              {{selectedUserFollowedSchools?.length}}</ion-note>\\r\\n\\r\\n            <ion-col class=\\\"ion-no-padding\\\" size=\\\"12\\\" *ngIf=\\\"currentSegment=='following'\\\">\\r\\n              <hr style=\\\"background: #e8e9ed; margin-top: 5px;\\\" width=\\\"70%\\\">\\r\\n            </ion-col>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n      </ion-row>\\r\\n\\r\\n      <ion-row>\\r\\n        <ion-col size=\\\"{{user?.id !== selectedUser?.id ? 12: 8}}\\\" *ngIf=\\\"user?.id !== selectedUser?.id\\\">\\r\\n          <app-follow [LeaderId]=\\\"selectedUser?.id\\\" [FollowerId]=\\\"user?.id\\\" [color]=\\\"'primary'\\\" [modelName]=\\\"'user'\\\"\\r\\n            (reload)=\\\"countFollowers(true)\\\"></app-follow>\\r\\n        </ion-col>\\r\\n\\r\\n        <ion-col *ngIf=\\\"user?.id === selectedUser?.id\\\" size=\\\"{{user?.id === selectedUser?.id ? 12: 4}}\\\">\\r\\n          <ion-button size=\\\"small\\\" expand=\\\"block\\\" class=\\\"mx-2 mb-1\\\" color=\\\"medium\\\" (click)=\\\"edit()\\\">\\r\\n            <ion-icon name=\\\"create-outline\\\"></ion-icon> Edit\\r\\n          </ion-button>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n\\r\\n      <ion-row class=\\\"ion-no-padding ion-no-margin\\\" *ngIf=\\\"currentSegment=='posts'\\\">\\r\\n        <ion-col size=\\\"12\\\" class=\\\"ion-no-padding\\\">\\r\\n          <ng-template ngFor let-post [ngForOf]=\\\"selectedUserPosts\\\">\\r\\n            <app-post-widget1 [Post]=\\\"post\\\"></app-post-widget1>\\r\\n          </ng-template>\\r\\n\\r\\n          <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadMorePosts($event)\\\">\\r\\n            <ion-infinite-scroll-content loadingSpinner=\\\"bubbles\\\" loadingText=\\\"Loading ...\\\">\\r\\n            </ion-infinite-scroll-content>\\r\\n          </ion-infinite-scroll>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n\\r\\n      <ion-row class=\\\"ion-no-padding\\\" *ngIf=\\\"currentSegment=='schools'\\\">\\r\\n        <ng-template ngFor let-school [ngForOf]=\\\"selectedUserSchools\\\">\\r\\n          <app-school-card [School]=\\\"school\\\"></app-school-card>\\r\\n        </ng-template>\\r\\n      </ion-row>\\r\\n\\r\\n      <ion-row class=\\\"ion-padding school-image-tiles w-100\\\" *ngIf=\\\"currentSegment=='following'\\\">\\r\\n        <ion-col size=\\\"12\\\" class=\\\"ion-no-padding\\\">\\r\\n          <ng-template ngFor let-school [ngForOf]=\\\"selectedUserFollowedSchools\\\">\\r\\n            <app-school-card [School]=\\\"school\\\"></app-school-card>\\r\\n          </ng-template>\\r\\n\\r\\n          <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadMoreFollowedUsers($event)\\\">\\r\\n            <ion-infinite-scroll-content loadingSpinner=\\\"bubbles\\\" loadingText=\\\"searching ...\\\">\\r\\n            </ion-infinite-scroll-content>\\r\\n          </ion-infinite-scroll>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n\\r\\n    </ion-card>\\r\\n  </ion-row>\\r\\n\\r\\n</ion-content>\";","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\n\r\nimport { ProfilePage } from './profile.page';\r\nimport { WidgetsModule } from 'src/app/widgets/widgets.module';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ProfilePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    WidgetsModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [ProfilePage]\r\n})\r\nexport class ProfilePageModule {}\r\n","export default \".card-header-bg {\\n  background-attachment: fixed;\\n  background-position: top;\\n  background-repeat: no-repeat;\\n  background-size: contain;\\n  max-width: 100vw;\\n  height: 35vh;\\n  min-height: 250px;\\n}\\n\\nion-avatar {\\n  width: 80px;\\n  height: 80px;\\n  background: white;\\n  text-align: center;\\n  z-index: 4;\\n  margin-top: 50px;\\n  color: white;\\n  margin-left: calc(50% - 40px);\\n}\\n\\nion-avatar img {\\n  width: 80px;\\n  height: 80px;\\n}\\n\\n.backdrop {\\n  top: 0;\\n  position: absolute;\\n  z-index: 1;\\n  background: rgba(0, 0, 0, 0.4);\\n}\\n\\n.main {\\n  border-top-right-radius: 20px;\\n  border-top-left-radius: 20px;\\n  box-shadow: none;\\n  z-index: 4;\\n}\\n\\n.bio {\\n  text-align: center;\\n  width: 80%;\\n  max-width: 400px;\\n  margin: 0 auto;\\n}\\n\\n.fixed-profile-menu-atop {\\n  position: fixed;\\n  z-index: 10001;\\n  background: white;\\n  width: 100%;\\n  margin-top: -260px !important;\\n  padding-top: 10px;\\n  height: 46px !important;\\n}\\n\\n.min-menu {\\n  color: var(--ion-color-light);\\n}\\n\\n.tag {\\n  position: absolute !important;\\n  width: 100% !important;\\n  z-index: 10;\\n  background: transparent;\\n  padding: 0 !important;\\n  margin: 0 !important;\\n  padding-top: 8px !important;\\n  padding-right: 5px !important;\\n  color: white !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWVtYmVycy9wcm9maWxlL3Byb2ZpbGUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksNEJBQUE7RUFDQSx3QkFBQTtFQUNBLDRCQUFBO0VBQ0Esd0JBQUE7RUFDQSxnQkFBQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtBQUNKOztBQUlBO0VBQ0ksV0FBQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLGdCQUFBO0VBQ0EsWUFBQTtFQUNBLDZCQUFBO0FBREo7O0FBRUk7RUFDSSxXQUFBO0VBQ0EsWUFBQTtBQUFSOztBQUlBO0VBQ0ksTUFBQTtFQUNBLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLDhCQUFBO0FBREo7O0FBSUE7RUFFSSw2QkFBQTtFQUNBLDRCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxVQUFBO0FBRko7O0FBS0E7RUFDSSxrQkFBQTtFQUNBLFVBQUE7RUFDQSxnQkFBQTtFQUNBLGNBQUE7QUFGSjs7QUFLQTtFQUNJLGVBQUE7RUFDQSxjQUFBO0VBQ0EsaUJBQUE7RUFDQSxXQUFBO0VBQ0EsNkJBQUE7RUFDQSxpQkFBQTtFQUNBLHVCQUFBO0FBRko7O0FBS0E7RUFDSSw2QkFBQTtBQUZKOztBQUtBO0VBQ0ksNkJBQUE7RUFDQSxzQkFBQTtFQUNBLFdBQUE7RUFDQSx1QkFBQTtFQUNBLHFCQUFBO0VBQ0Esb0JBQUE7RUFDQSwyQkFBQTtFQUNBLDZCQUFBO0VBQ0EsdUJBQUE7QUFGSiIsImZpbGUiOiJzcmMvYXBwL21lbWJlcnMvcHJvZmlsZS9wcm9maWxlLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jYXJkLWhlYWRlci1iZyB7XHJcbiAgICBiYWNrZ3JvdW5kLWF0dGFjaG1lbnQ6IGZpeGVkO1xyXG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogdG9wO1xyXG4gICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcclxuICAgIGJhY2tncm91bmQtc2l6ZTogY29udGFpbjtcclxuICAgIG1heC13aWR0aDogMTAwdnc7XHJcbiAgICBoZWlnaHQ6IDM1dmg7XHJcbiAgICBtaW4taGVpZ2h0OiAyNTBweDtcclxuXHJcbiAgICBcclxufVxyXG5cclxuaW9uLWF2YXRhciB7XHJcbiAgICB3aWR0aDogODBweDtcclxuICAgIGhlaWdodDogODBweDtcclxuICAgIGJhY2tncm91bmQ6IHdoaXRlO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgei1pbmRleDogNDtcclxuICAgIG1hcmdpbi10b3A6IDUwcHg7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBtYXJnaW4tbGVmdDogY2FsYyg1MCUgLSA0MHB4KTtcclxuICAgIGltZyB7XHJcbiAgICAgICAgd2lkdGg6IDgwcHg7XHJcbiAgICAgICAgaGVpZ2h0OiA4MHB4O1xyXG4gICAgfVxyXG59XHJcblxyXG4uYmFja2Ryb3Age1xyXG4gICAgdG9wOiAwO1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgei1pbmRleDogMTtcclxuICAgIGJhY2tncm91bmQ6IHJnYmEoJGNvbG9yOiBibGFjaywgJGFscGhhOiAuNCk7XHJcbn1cclxuXHJcbi5tYWluIHtcclxuICAgIC8vIG1hcmdpbi10b3A6IC0zMHB4O1xyXG4gICAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDIwcHg7XHJcbiAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAyMHB4O1xyXG4gICAgYm94LXNoYWRvdzogbm9uZTtcclxuICAgIHotaW5kZXg6IDQ7XHJcbn1cclxuXHJcbi5iaW8ge1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgd2lkdGg6IDgwJTtcclxuICAgIG1heC13aWR0aDogNDAwcHg7XHJcbiAgICBtYXJnaW46IDAgYXV0bztcclxufVxyXG5cclxuLmZpeGVkLXByb2ZpbGUtbWVudS1hdG9we1xyXG4gICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgei1pbmRleDogMTAwMDE7XHJcbiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgbWFyZ2luLXRvcDogLTI2MHB4ICFpbXBvcnRhbnQ7XHJcbiAgICBwYWRkaW5nLXRvcDogMTBweDtcclxuICAgIGhlaWdodDogNDZweCAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4ubWluLW1lbnV7XHJcbiAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWxpZ2h0KTtcclxufVxyXG5cclxuLnRhZ3tcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZSAhaW1wb3J0YW50O1xyXG4gICAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcclxuICAgIHotaW5kZXg6IDEwO1xyXG4gICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XHJcbiAgICBwYWRkaW5nOiAwICFpbXBvcnRhbnQ7XHJcbiAgICBtYXJnaW46IDAgIWltcG9ydGFudDtcclxuICAgIHBhZGRpbmctdG9wOiA4cHggIWltcG9ydGFudDtcclxuICAgIHBhZGRpbmctcmlnaHQ6IDVweCAhaW1wb3J0YW50O1xyXG4gICAgY29sb3I6IHdoaXRlICFpbXBvcnRhbnQ7XHJcbn0iXX0= */\";","import { SocialService } from 'src/app/shared/services/model-service/social.service';\r\nimport { Degree, DegreeType } from './../../models/degree';\r\nimport { Alumni } from './../../models/alumni';\r\nimport { UserService } from './../../shared/services/model-service/user.service';\r\nimport { Component, OnInit, OnDestroy, AfterContentInit, ViewChild, AfterViewInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { IdentityPhoto } from 'src/app/models/my-media';\r\nimport { School } from 'src/app/models/school';\r\nimport { User } from 'src/app/models/user';\r\nimport { SchoolService } from 'src/app/shared/services/model-service/school.service';\r\nimport { MySignals } from 'src/app/shared/services/my-signals';\r\nimport { BrowserHistoryService } from 'src/app/shared/services/providers/navigation/browser-history.service';\r\nimport { UtilityService } from 'src/app/shared/services/providers/utility.service';\r\nimport { AlumniService } from 'src/app/shared/services/model-service/alumni.service';\r\nimport { PostService } from 'src/app/shared/services/model-service/post.service';\r\nimport { PageInfo } from 'src/app/models/page';\r\nimport { Post } from 'src/app/models/post';\r\nimport { IonInfiniteScroll } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-profile',\r\n  templateUrl: './profile.page.html',\r\n  styleUrls: ['./profile.page.scss'],\r\n})\r\nexport class ProfilePage implements OnInit, AfterContentInit, OnDestroy, AfterViewInit {\r\n\r\n  currentSegment = 'posts';\r\n  selectedUser: User;\r\n  selectedUserSchools: School[] = [];\r\n  selectedUserFollowedSchools: School[] = [];\r\n  schoolsIdentityPhotos: IdentityPhoto[] = [];\r\n  identityPhoto: IdentityPhoto;\r\n  selectedUserPosts: Post[] = [];\r\n  totalPost = 0;\r\n\r\n  selectedUserAlumni: Alumni[] = [];\r\n  degrees: Degree[] = [];\r\n  highestDegreeEnrolled: Alumni;\r\n\r\n  selectedUserComments: Comment[] = [];\r\n\r\n  user: User; // Currently logged in user\r\n\r\n\r\n  postLimit = 5;\r\n  postOffset = 0;\r\n\r\n  followedSchoolsLimit = 5;\r\n  followedSchoolsOffset = 0;\r\n\r\n  infiniteScrollTarget: any;\r\n  @ViewChild(IonInfiniteScroll) infiniteScroll: IonInfiniteScroll;\r\n\r\n  profileFixedMenu = false;\r\n\r\n  sub$ = [];\r\n  previousPage = '';\r\n\r\n  constructor(\r\n    private userService: UserService,\r\n    private alumniService: AlumniService,\r\n    private postService: PostService,\r\n    private schoolService: SchoolService,\r\n    private browserHistory: BrowserHistoryService,\r\n    private router: Router,\r\n    private signals: MySignals,\r\n    private socialService: SocialService,\r\n    private route: ActivatedRoute\r\n  ) {\r\n    this.sub$.push(this.browserHistory.previousPageSource$.subscribe(previousPage => {\r\n      this.previousPage = previousPage;\r\n    }));\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.profileFixedMenu = false;\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    UtilityService.destroySubscription(this.sub$);\r\n  }\r\n\r\n  ngAfterContentInit() {\r\n  }\r\n\r\n  async ngAfterViewInit() {\r\n    this.sub$.push(this.signals.selectedUserSource$.subscribe(_ => {\r\n      this.init();\r\n    }));\r\n    this.init();\r\n  }\r\n\r\n  async init() {\r\n    this.postOffset = 0;\r\n    this.selectedUserPosts = [];\r\n\r\n    this.user = await this.userService.getUserLocal();\r\n    if (this.route?.snapshot?.params?.user) { // check if its current login user\r\n      this.selectedUser = this.user;\r\n      await this.userService.setSelectedUserLocal(this.user);\r\n      window.location.href = '/links/profile';\r\n    } else {\r\n      this.selectedUser = await this.userService.getSelectedUserLocal();\r\n    }\r\n    console.log(this.selectedUser);\r\n    // if (!this.selectedUser) {\r\n    //   this.selectedUser = this.user;\r\n    // }\r\n    const filter = {\r\n      include: [\r\n        { relation: 'photos' },\r\n        { relation: 'address' },\r\n        { relation: 'userConfig' },\r\n        { relation: 'post' }\r\n      ]\r\n    };\r\n    this.sub$.push(this.userService.getUserDetails(this.selectedUser?.id, filter).subscribe(u => {\r\n      if (u?.id) {\r\n        this.selectedUser = u;\r\n        console.log(u);\r\n        this.identityPhoto = UserService.getUserIdentityPhoto(u);\r\n        console.log(this.identityPhoto);\r\n      }\r\n    }));\r\n    this.sub$.push(this.alumniService.getUserAlumni(this.selectedUser?.id).subscribe(a => {\r\n      this.selectedUserAlumni = a;\r\n      console.log(a);\r\n      this.degrees = [];\r\n      this.selectedUserAlumni?.forEach(alu => {\r\n        if (alu?.degree) {\r\n          this.degrees?.push(alu.degree);\r\n        }\r\n      });\r\n      this.degrees = UtilityService.SortDegree(this.degrees);\r\n      if (this.degrees?.length > 0) {\r\n        this.highestDegreeEnrolled = this.getAlumniByDegree(this.degrees[0]);\r\n      }\r\n    }));\r\n\r\n    this.sub$.push(this.signals.followSource$.subscribe(isFollowing => {\r\n      this.loadFollowedSchools();\r\n    }));\r\n    this.loadSchools();\r\n    this.loadFollowedSchools();\r\n    this.getUserPost();\r\n    this.countPost();\r\n  }\r\n\r\n  set FixedMenu(value: boolean) {\r\n    this.profileFixedMenu = value;\r\n  }\r\n\r\n  protected getAlumniByDegree(degree: Degree) {\r\n    for (const alu of this.selectedUserAlumni) {\r\n      if (alu.degree === degree) {\r\n        return alu;\r\n      }\r\n    }\r\n  }\r\n\r\n  getUserPost() {\r\n    const pageInfo: PageInfo = {\r\n      limit: this.postLimit,\r\n      offset: this.postOffset\r\n    };\r\n    this.sub$.push(this.postService.getUserPosts(this.selectedUser?.id, pageInfo).subscribe(posts => {\r\n      console.log(posts);\r\n      this.selectedUserPosts = [... this.selectedUserPosts, ...posts];\r\n      this.postOffset += posts?.length;\r\n      this.infiniteScrollTarget?.complete();\r\n    }));\r\n  }\r\n\r\n  loadMorePosts(event) {\r\n    this.infiniteScrollTarget = event.target;\r\n    this.getUserPost();\r\n  }\r\n\r\n  countPost() {\r\n    this.sub$.push(this.postService.countUserPost(this.selectedUser?.id).subscribe(count => {\r\n      // console.log(count);\r\n      this.totalPost = count;\r\n    }));\r\n  }\r\n\r\n  loadSchools() {\r\n    if (this.selectedUser) {\r\n      this.sub$.push(this.schoolService.getUserSchools(this.selectedUser?.id).subscribe(schools => {\r\n        this.selectedUserSchools = schools;\r\n        console.log(schools);\r\n        this.schoolsIdentityPhotos = UtilityService.getIdentityPhotos(schools);\r\n      }));\r\n    }\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigateByUrl(this.browserHistory.getPreviousUrl());\r\n  }\r\n\r\n\r\n  loadFollowedSchools(reset = false) {\r\n    if (reset) {\r\n      this.followedSchoolsOffset = 0;\r\n    }\r\n    const pageInfo: PageInfo = {\r\n      limit: this.followedSchoolsLimit,\r\n      offset: this.followedSchoolsOffset\r\n    };\r\n    this.sub$.push(this.socialService.getUserFollowedSchools(this.selectedUser?.id, pageInfo).subscribe(fs => {\r\n      this.selectedUserFollowedSchools = [...this.selectedUserFollowedSchools, ...fs];\r\n      this.followedSchoolsOffset += fs?.length;\r\n      this.infiniteScrollTarget?.complete();\r\n    }));\r\n  }\r\n\r\n  loadMoreFollowedUsers(event) {\r\n    this.infiniteScrollTarget = event.target;\r\n    this.loadFollowedSchools();\r\n  }\r\n\r\n  loadFollowedUsers() {\r\n\r\n  }\r\n\r\n  countFollowers() {\r\n    this.loadFollowedSchools(true);\r\n  }\r\n\r\n  edit() {\r\n\r\n  }\r\n\r\n  follow() {\r\n\r\n  }\r\n}\r\n"]}