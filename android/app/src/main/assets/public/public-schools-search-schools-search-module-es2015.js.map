{"version":3,"sources":["./src/app/public/schools-search/schools-search.page.html","./src/app/public/schools-search/schools-search.module.ts","./src/app/public/schools-search/schools-search.page.scss","./src/app/public/schools-search/schools-search.page.ts"],"names":[],"mappings":"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","file":"public-schools-search-schools-search-module-es2015.js","sourcesContent":["export default \"<ion-content>\\r\\n  <ion-row class=\\\"top-row-header ion-no-padding\\\" style=\\\"box-shadow: 0px 2px 4px -4px;\\\">\\r\\n    <ion-col size=\\\"12\\\" class=\\\"ion-no-padding\\\">\\r\\n      <ion-item lines=\\\"none\\\" class=\\\"fs-12 poppins-bold ion-no-padding ion-text-nowrap\\\">\\r\\n        <ion-row slot=\\\"end\\\">\\r\\n          <ion-note class=\\\"fs-112 poppins-bold\\\" color=\\\"dark\\\"> Search &amp; Explore </ion-note>&nbsp;&nbsp;\\r\\n        </ion-row>\\r\\n        <!-- <ion-row class=\\\"ion-row\\\" (click)=\\\"goBack()\\\">\\r\\n          <ion-icon class=\\\"fs-25\\\" [src]=\\\"'../../../assets/icon/round-arrow_back.svg'\\\"></ion-icon>&nbsp;&nbsp;\\r\\n          <ion-note class=\\\"poppins-medium fs-12\\\" color=\\\"black \\\" style=\\\"margin-top: 4px;\\\">{{previousPage}}</ion-note>\\r\\n        </ion-row> -->\\r\\n        <ion-row slot=\\\"start\\\" (click)=\\\"presentPopover()\\\">\\r\\n          <ion-note class=\\\"fs-12 poppins-regular\\\" *ngIf=\\\"selectedSchools?.length>0\\\">@{{selectedSchools[0]?.name}}\\r\\n          </ion-note> &nbsp;&nbsp;\\r\\n          <ion-icon color=\\\"dark\\\" class=\\\"fs-14\\\" name=\\\"filter-outline\\\"></ion-icon> &nbsp;\\r\\n          <ion-note class=\\\"fs-12 poppins-regular\\\" *ngIf=\\\"selectedSchools?.length===0\\\"> Filter </ion-note>&nbsp;&nbsp;\\r\\n        </ion-row>\\r\\n      </ion-item>\\r\\n    </ion-col>\\r\\n\\r\\n    <ion-col>\\r\\n      <ion-searchbar animated showCancelButton=\\\"focus\\\" debounce=\\\"500\\\"\\r\\n        autocomplete=\\\"'on'|'name'|'country-name'|'email'|'organization'|'address-line1'|'address-line2'|'street-address'|'sex'|'tel-country-code'|'url'|'tel'\\\"\\r\\n        placeholder=\\\"Search schools\\\" (ionChange)=\\\"search()\\\" type=\\\"'search'|'email'|'tel'|'text'|'url'\\\"\\r\\n        inputmode=\\\"'text'|'tel'|'email'|'url'|'search'\\\" [(ngModel)]=\\\"searchKey\\\"></ion-searchbar>\\r\\n    </ion-col>\\r\\n  </ion-row>\\r\\n\\r\\n  <!-- Top correction -->\\r\\n  <ion-row class=\\\"ion-content-top_correction\\\"></ion-row>\\r\\n  <!-- Top correction ends -->\\r\\n\\r\\n  <!-- Main body content -->\\r\\n  <ion-row class=\\\"ion-padding-start ion-padding-end ion-activatable ripple-parent mt-5\\\">\\r\\n    <!-- <ion-ripple-effect type=\\\"unbounded\\\"></ion-ripple-effect>\\r\\n    <ion-item lines=\\\"none\\\" class=\\\"ion-no-padding\\\" style=\\\"padding-top: 7px;\\r\\n      padding-bottom: 7px;border-bottom: thin dotted lightgray;\\\" [routerLink]=\\\"['/links/schools-search']\\\"\\r\\n      routerLinkActive=\\\"router-link-active\\\">\\r\\n      <ion-note class=\\\"poppins-bold fs-12 ion-padding-top ion-padding-bottom\\\" color=\\\"dark\\\">\\r\\n        Become alumni<br>\\r\\n        <ion-label class=\\\"hind-regular fs-12\\\">+1000 has sign up</ion-label>\\r\\n      </ion-note>\\r\\n      <ion-button slot=\\\"end\\\" shape=\\\"round\\\" fill=\\\"outline\\\" class=\\\"poppins-bold fs-13\\\" style=\\\"--border-width: 2px;\\\">\\r\\n        Join a year group\\r\\n      </ion-button>\\r\\n      <ion-icon slot=\\\"end\\\" src=\\\"../../../assets/icon/member.svg\\\"></ion-icon>\\r\\n    </ion-item> -->\\r\\n  </ion-row>\\r\\n\\r\\n  <ion-row>\\r\\n    <ion-col size=\\\"12\\\" class=\\\"ion-no-padding\\\" *ngFor=\\\"let school of schools; let i=index;\\\">\\r\\n      <ion-row class=\\\"ion-padding-start ion-padding-end ion-activatable ripple-parent\\\">\\r\\n        <ion-ripple-effect type=\\\"unbounded\\\"></ion-ripple-effect>\\r\\n        <ion-item lines=\\\"none\\\" class=\\\"ion-no-padding\\\" style=\\\"padding-top: 7px;\\r\\n          padding-bottom: 7px;border-bottom: thin dotted lightgray;\\\" (click)=\\\"gotoSchoolProfile(school)\\\"> \\r\\n          <ion-thumbnail class=\\\"ion-no-padding br-10\\\" slot=\\\"start\\\" \\r\\n            routerLinkActive=\\\"router-link-active\\\">\\r\\n            <img src=\\\"{{getProfilePhotoUrl(schoolsIdentityPhoto[i])}}\\\">\\r\\n          </ion-thumbnail>\\r\\n          <ion-note class=\\\"poppins-bold fs-12 ion-padding-top ion-padding-bottom\\\" color=\\\"dark\\\"\\r\\n           >{{school?.name}} <br>\\r\\n            <ion-label class=\\\"hind-regular fs-12\\\">{{school?.address?.city}} {{school?.address?.country}} </ion-label>\\r\\n          </ion-note>\\r\\n        </ion-item>\\r\\n      </ion-row>\\r\\n    </ion-col>\\r\\n  </ion-row>\\r\\n\\r\\n  <!-- Main body content ends -->\\r\\n  <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadMoreEvents($event)\\\">\\r\\n    <ion-infinite-scroll-content loadingSpinner=\\\"bubbles\\\" loadingText=\\\"Loading schools...\\\">\\r\\n    </ion-infinite-scroll-content>\\r\\n  </ion-infinite-scroll>\\r\\n</ion-content>\";","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { SchoolsSearchPage } from './schools-search.page';\r\nimport { WidgetsModule } from 'src/app/widgets/widgets.module';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SchoolsSearchPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    WidgetsModule\r\n  ],\r\n  declarations: [SchoolsSearchPage]\r\n})\r\nexport class SchoolsSearchPageModule {}\r\n","export default \".ion-content-top_correction {\\n  margin-top: 88px !important;\\n}\\n\\nion-activated {\\n  background: yellow;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcHVibGljL3NjaG9vbHMtc2VhcmNoL3NjaG9vbHMtc2VhcmNoLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLDJCQUFBO0FBQ0o7O0FBQ0E7RUFDSSxrQkFBQTtBQUVKIiwiZmlsZSI6InNyYy9hcHAvcHVibGljL3NjaG9vbHMtc2VhcmNoL3NjaG9vbHMtc2VhcmNoLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5pb24tY29udGVudC10b3BfY29ycmVjdGlvbiB7XHJcbiAgICBtYXJnaW4tdG9wOiA4OHB4ICFpbXBvcnRhbnQ7XHJcbn1cclxuaW9uLWFjdGl2YXRlZHtcclxuICAgIGJhY2tncm91bmQ6IHllbGxvdztcclxufSJdfQ== */\";","import { PageInfo } from './../../models/page';\r\nimport { SchoolService } from './../../shared/services/model-service/school.service';\r\nimport { AlumniService } from './../../shared/services/model-service/alumni.service';\r\nimport { BrowserHistoryService } from 'src/app/shared/services/providers/navigation/browser-history.service';\r\nimport { AfterViewInit, Component, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { UtilityService } from 'src/app/shared/services/providers/utility.service';\r\nimport { School } from 'src/app/models/school';\r\nimport { MySignals } from 'src/app/shared/services/my-signals';\r\nimport { UserService } from 'src/app/shared/services/model-service/user.service';\r\nimport { MyStorage } from 'src/app/shared/services/providers/storage/my-storage.service';\r\nimport { Alumni } from 'src/app/models/alumni';\r\nimport { FeedFilterPopoverComponent } from 'src/app/widgets/feed-filter-popover/feed-filter-popover.component';\r\nimport { IonInfiniteScroll, LoadingController, PopoverController } from '@ionic/angular';\r\nimport { IdentityPhoto, Photo } from 'src/app/models/my-media';\r\nimport { ToasterService } from 'src/app/shared/services/providers/widgets/toaster.service';\r\n\r\n@Component({\r\n  selector: 'app-schools-search',\r\n  templateUrl: './schools-search.page.html',\r\n  styleUrls: ['./schools-search.page.scss'],\r\n})\r\nexport class SchoolsSearchPage implements OnInit, AfterViewInit, OnDestroy {\r\n  previousPage = '';\r\n  selectedSchools: School[] = [];\r\n  // userSchools: School[] = [];\r\n  schools: School[] = [];\r\n  schoolsIdentityPhoto: IdentityPhoto[] = [];\r\n\r\n  userAlumni: Alumni[] = [];\r\n\r\n  sub$ = [];\r\n\r\n  searchOffset = 0; // Begin search at zero index;\r\n  searchLimit = 10; // pull 20 schools at a time\r\n  searchKey = '';\r\n\r\n  infiniteScrollTarget: any;\r\n  @ViewChild(IonInfiniteScroll) infiniteScroll: IonInfiniteScroll;\r\n\r\n  constructor(\r\n    private browserHistory: BrowserHistoryService,\r\n    private router: Router,\r\n    public filterPopover: PopoverController,\r\n    private alumniService: AlumniService,\r\n    private schoolService: SchoolService,\r\n    private userService: UserService,\r\n    private signal: MySignals,\r\n    private store: MyStorage,\r\n    private loadingController: LoadingController,\r\n    private toast: ToasterService\r\n  ) {\r\n    this.sub$.push(this.browserHistory.previousPageSource$.subscribe(previousPage => {\r\n      this.previousPage = previousPage;\r\n    }));\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    // this.store.getObject<Alumni[]>('user-alumni').then(alumni => {\r\n    //   if (alumni) {\r\n    //     this.userAlumni = alumni;\r\n    //     this.userAlumni.forEach(alu => {\r\n    //       this.userSchools.push(alu.school);\r\n    //     });\r\n    //   }\r\n    // });\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.search(false);\r\n  }\r\n\r\n  async presentPopover(ev: any) {\r\n    const popover = await this.filterPopover.create({\r\n      component: FeedFilterPopoverComponent,\r\n      cssClass: 'filter-feed',\r\n      event: ev,\r\n      translucent: true,\r\n      showBackdrop: false\r\n    });\r\n    return await popover.present();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    UtilityService.destroySubscription(this.sub$);\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigateByUrl(this.browserHistory.getPreviousUrl());\r\n  }\r\n\r\n  gotoSchoolProfile(school: School) {\r\n    this.schoolService.setSchoolLocal(school).then(_ =>\r\n      this.router.navigateByUrl('/links/school-profile')\r\n    );\r\n  }\r\n\r\n  isAuthenticated() {\r\n    return this.userService.isAuthenticated();\r\n  }\r\n\r\n  // async join(school: School) {\r\n  //   if (await this.schoolService.setSchoolLocal(school)) {\r\n  //     // navigate to join school page\r\n  //     this.router.navigateByUrl('/links/schools-join');\r\n  //   }\r\n  //   // console.log(school.name);\r\n  // }\r\n\r\n  async presentLoading() {\r\n    const loading = await this.loadingController.create({\r\n      cssClass: 'my-custom-class',\r\n      message: 'Please wait...',\r\n      duration: 2000\r\n    });\r\n    await loading.present();\r\n\r\n    const { role, data } = await loading.onDidDismiss();\r\n    console.log('Loading dismissed!');\r\n  }\r\n\r\n  // if search term change, it means key\r\n  // trigger is true\r\n  search(keyTrigger = true) {\r\n\r\n    // if ( this.schools.length === 0 ) {\r\n    //   this.presentLoading().then((res: any) => {\r\n    //     this.schools.length === 0 ? res.dismiss() : this.toast.toast('Sorry, something went wrong!')\r\n    //   });\r\n    // }\r\n\r\n    console.log('searching');\r\n    // refresh search\r\n    if (keyTrigger) {\r\n      this.searchOffset = 0;\r\n    }\r\n    const pageInfo = {\r\n      offset: this.searchOffset,\r\n      limit: this.searchLimit\r\n    } as PageInfo;\r\n\r\n    this.schoolService.searchSchool(this.searchKey, pageInfo).subscribe(schools => {\r\n      if (keyTrigger) {\r\n        console.log(schools);\r\n        this.schools = schools;\r\n        this.schoolsIdentityPhoto = UtilityService.getIdentityPhotos(schools);\r\n      } else {\r\n        this.schools = this.schools.concat(schools);\r\n        this.searchOffset = this.schools.length;\r\n        this.infiniteScrollTarget?.complete();\r\n      }\r\n    });\r\n\r\n    // this.schoolService.getSchools(pageInfo).subscribe(schools => {\r\n    //   this.schools = this.schools.concat(schools);\r\n    //   this.searchOffset = this.schools.length;\r\n    //   console.log(this.schools.length);\r\n    // });\r\n  }\r\n\r\n\r\n  loadMoreEvents(event) {\r\n    this.infiniteScrollTarget = event.target;\r\n    this.search(false);\r\n  }\r\n\r\n  getProfilePhotoUrl(identityPhoto: IdentityPhoto) {\r\n    return SchoolService.getSchoolProfilePhotoUrl(identityPhoto);\r\n  }\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}