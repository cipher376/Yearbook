{"version":3,"sources":["webpack:///src/app/public/schools-profile/schools-profile.page.html","webpack:///src/app/public/schools-profile/schools-profile.module.ts","webpack:///src/app/public/schools-profile/schools-profile.page.scss","webpack:///src/app/public/schools-profile/schools-profile.page.ts"],"names":["routes","path","component","SchoolsProfilePageModule","imports","forChild","exports","declarations","SchoolsProfilePage","signals","router","browserHistory","schoolService","postService","userService","modalController","alumniService","alert","socialService","currentSegment","totalAlumni","alumni","schoolPosts","totalPost","followers","totalFollowers","previousPage","sub$","isAlumni","fixedMenu","postLimit","postOffset","alumniLimit","alumniOffset","followersLimit","followersOffset","getUserLocal","user","push","selectedSchoolSource$","subscribe","school","identityPhoto","getSchoolIdentityPhoto","init","getSchoolLocal","console","log","reloadUserSchoolsSource$","_","destroySubscription","countAlumni","getSchoolAlumni","getSchoolPosts","userIsAlumni","getFollowers","countFollowers","navigateByUrl","getPreviousUrl","isAuthenticated","create","cssClass","componentProps","alumniCount","modal","closeModalSource$","name","dismiss","present","header","message","buttons","text","role","handler","blah","deleteAlumni","id","announceUserSchoolsReload","isUserAlumni","alu","$event","isFollowing","getSchoolProfilePhotoUrl","getSchoolCoverPhotoUrl","count","pageInfo","limit","offset","posts","length","infiniteScrollTarget","complete","event","target","countSchoolPost","reset","getSchoolFollowers","users","countSchoolFollower","value","selector","template"],"mappings":"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","file":"public-schools-profile-schools-profile-module-es5.js","sourcesContent":["export default \"<ion-content>\\r\\n  <ion-row class=\\\"ion-padding\\\" class=\\\"tag\\\">\\r\\n    <ion-col size=\\\"6\\\" (click)=\\\"goBack()\\\">\\r\\n      <ion-icon name=\\\"chevron-back-outline\\\" class=\\\"fs-20\\\" color=\\\"medium\\\"></ion-icon>\\r\\n      <!-- <ion-icon name=\\\"git-network-outline\\\" class=\\\"fs-20\\\" style=\\\"color: white !important;\\\" color=\\\"medium\\\"></ion-icon>\\r\\n      &nbsp;\\r\\n      <ion-label style=\\\"margin-top: 1px; position: absolute; font-size:12px; color: white !important;\\\">Follow\\r\\n      </ion-label> -->\\r\\n    </ion-col>\\r\\n    <ion-col size=\\\"6\\\" class=\\\"ion-float-right\\\">\\r\\n      <!-- <ion-label class=\\\"ion-float-right fs-12\\\" (click)=\\\"connect()\\\" style=\\\"color: white !important;\\\">Join old students\\r\\n      </ion-label> -->\\r\\n    </ion-col>\\r\\n  </ion-row>\\r\\n\\r\\n  <ion-row style=\\\"height: 250px;\\\" appWatchElement [elementId]=\\\"'school-menu'\\\" id=\\\"school-menu\\\" (isOut)=\\\"schoolFixedMenu=$event\\\">\\r\\n    <ion-card class=\\\" w-100\\\" style=\\\"height: 250px;\\\">\\r\\n      <div class=\\\"backdrop h-100 w-100\\\"></div>\\r\\n      <ion-card-header [background-image]=\\\"getCoverPhotoUrl() || '../../../assets/images/ACOPROM1.jpg'\\\"\\r\\n        class=\\\"card-header-bg ion-no-padding ion-padding-top \\\">\\r\\n        <ion-row style=\\\"z-index:4;\\\">\\r\\n          <ion-col class=\\\"ion-no-padding ion-no-margin\\\" size=\\\"5\\\"></ion-col>\\r\\n          <ion-col class=\\\"ion-no-padding ion-no-margin\\\" size=\\\"2\\\" style=\\\"z-index: 4;\\\">\\r\\n            <ion-avatar>\\r\\n              <img [src]=\\\"getProfilePhotoUrl()\\\">\\r\\n            </ion-avatar>\\r\\n          </ion-col>\\r\\n          <ion-col class=\\\"ion-no-padding ion-no-margin\\\" size=\\\"5\\\"></ion-col>\\r\\n          <ion-col size=\\\"12\\\" class=\\\"text-center\\\" color=\\\"white\\\" style=\\\"z-index: 4; color: white\\\">\\r\\n            <h5> {{ school?.name }} </h5>\\r\\n            <small class=\\\"mx-auto w-50\\\" *ngIf=\\\"school?.address\\\">\\r\\n              <span *ngIf=\\\"school?.address?.city\\\">#{{school?.address?.city}}</span>\\r\\n              <span *ngIf=\\\"school?.address?.state\\\"> #{{school?.address?.state}}</span>\\r\\n              <span *ngIf=\\\"school?.address?.country\\\"> #{{school?.address?.country}}</span>\\r\\n            </small>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n      </ion-card-header>\\r\\n    </ion-card>\\r\\n  </ion-row>\\r\\n  <ion-row class=\\\"\\\">\\r\\n    <ion-card class=\\\"w-100 ion-padding-top ion-padding-bottom main\\\">\\r\\n      <ion-row class=\\\"ion-no-padding\\\" style=\\\"height: 90px;\\\" [ngClass]=\\\"{'fixed-profile-menu-atop': fixedMenu}\\\">\\r\\n        <ion-col size=\\\"12\\\" class=\\\"ion-no-padding ion-no-margin menu-col\\\" style=\\\"padding-bottom: 8px;\\\" >\\r\\n          <ion-row> \\r\\n            <ion-col size=\\\"3\\\" class=\\\"text-center\\\">\\r\\n              <ion-note class=\\\"poppins-regular fs-13 min-menu\\\" (click)=\\\"showPost=false; showAbout = true;\\\">About\\r\\n              </ion-note>\\r\\n            </ion-col>\\r\\n            <ion-col size=\\\"3\\\" class=\\\"text-center\\\">\\r\\n              <ion-note class=\\\"poppins-regular fs-13 min-menu\\\" (click)=\\\"showPost=false; showLocation = true;\\\">Location\\r\\n              </ion-note>\\r\\n            </ion-col>\\r\\n            <ion-col size=\\\"3\\\" class=\\\"text-center\\\">\\r\\n              <ion-note class=\\\"poppins-regular fs-13 min-menu\\\" (click)=\\\"showPost=false; showMedia = true;\\\">Media\\r\\n              </ion-note>\\r\\n            </ion-col>\\r\\n            <ion-col size=\\\"3\\\" class=\\\"text-center\\\">\\r\\n              <ion-note class=\\\"poppins-regular fs-13 min-menu\\\" (click)=\\\"showPost=false; showDocument = true;\\\">Timeline\\r\\n              </ion-note>\\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n        </ion-col>\\r\\n\\r\\n        <ion-row class=\\\"ion-no-padding ion-no-margin w-100\\\" *ngIf=\\\"!fixedMenu\\\">\\r\\n          <ion-col size=\\\"4\\\" class=\\\"ion-align-items-center ion-text-center ion-no-padding separator-vertical\\\">\\r\\n            <ion-note color=\\\"dark\\\" class=\\\"poppins-bold fs-16\\\" (click)=\\\"currentSegment='posts'\\\">Posts</ion-note><br>\\r\\n            <ion-note class=\\\"poppins-regular fs-12\\\" (click)=\\\"currentSegment='posts'\\\">{{totalPost}}</ion-note>\\r\\n\\r\\n            <ion-col class=\\\"ion-no-padding\\\" size=\\\"12\\\">\\r\\n              <hr style=\\\"background: #e8e9ed; margin-top: 5px;\\\" width=\\\"70%\\\" *ngIf=\\\"currentSegment=='posts'\\\">\\r\\n            </ion-col>\\r\\n          </ion-col>\\r\\n\\r\\n          <ion-col size=\\\"4\\\" class=\\\"ion-align-items-center ion-text-center ion-no-padding\\\">\\r\\n            <ion-note color=\\\"dark\\\" class=\\\"poppins-bold fs-16\\\" (click)=\\\"currentSegment='alumni'\\\">Alumni</ion-note><br>\\r\\n            <ion-note class=\\\"poppins-regular fs-12\\\" (click)=\\\"currentSegment='alumni'\\\">{{totalAlumni}}\\r\\n            </ion-note>\\r\\n\\r\\n            <ion-col class=\\\"ion-no-padding\\\" size=\\\"12\\\" *ngIf=\\\"currentSegment=='alumni'\\\">\\r\\n              <hr style=\\\"background: #e8e9ed; margin-top: 5px;\\\" width=\\\"70%\\\">\\r\\n            </ion-col>\\r\\n          </ion-col>\\r\\n\\r\\n          <ion-col size=\\\"4\\\" class=\\\"ion-align-items-center ion-text-center ion-no-padding separator-vertical\\\">\\r\\n            <ion-note color=\\\"dark\\\" class=\\\"poppins-bold fs-16\\\" (click)=\\\"currentSegment='followers'\\\">Followers</ion-note>\\r\\n            <br>\\r\\n            <ion-note class=\\\"poppins-regular fs-12\\\" (click)=\\\"currentSegment='followers'\\\">\\r\\n              {{totalFollowers}}</ion-note>\\r\\n\\r\\n            <ion-col class=\\\"ion-no-padding\\\" size=\\\"12\\\" *ngIf=\\\"currentSegment=='followers'\\\">\\r\\n              <hr style=\\\"background: #e8e9ed; margin-top: 5px;\\\" width=\\\"70%\\\">\\r\\n            </ion-col>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n      </ion-row>\\r\\n\\r\\n      <ion-row>\\r\\n        <ion-col size=\\\"8\\\">\\r\\n          <ion-button size=\\\"small\\\" expand=\\\"block\\\" class=\\\"mx-2 mb-1\\\" (click)=\\\"join()\\\" *ngIf=\\\"!isAlumni\\\">\\r\\n            <ion-icon name=\\\"git-network-outline\\\"></ion-icon> Join old students\\r\\n          </ion-button>\\r\\n\\r\\n          <!-------------------------------- \\r\\n              unfollow\\r\\n              -------------------------------->\\r\\n\\r\\n          <ion-button size=\\\"small\\\" expand=\\\"block\\\" class=\\\"mx-2 mb-1\\\" (click)=\\\"leave()\\\" *ngIf=\\\"isAlumni\\\">\\r\\n            <ion-icon name=\\\"remove\\\"></ion-icon> &nbsp;&nbsp; Leave school\\r\\n          </ion-button>\\r\\n        </ion-col>\\r\\n\\r\\n        <ion-col size=\\\"4\\\">\\r\\n          <app-follow [LeaderId]=\\\"school?.id\\\" [FollowerId]=\\\"user?.id\\\" [modelName]=\\\"'School'\\\"\\r\\n            (reload)=\\\"getFollowers(true)\\\"></app-follow>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n\\r\\n      <ion-row class=\\\"ion-no-padding ion-no-margin\\\" *ngIf=\\\"currentSegment=='posts'\\\">\\r\\n        <ion-col size=\\\"12\\\" class=\\\"ion-no-padding\\\">\\r\\n          <ng-template ngFor let-post [ngForOf]=\\\"schoolPosts\\\">\\r\\n            <app-post-widget1 [Post]=\\\"post\\\"></app-post-widget1>\\r\\n          </ng-template>\\r\\n\\r\\n          <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadMorePosts($event)\\\">\\r\\n            <ion-infinite-scroll-content loadingSpinner=\\\"bubbles\\\" loadingText=\\\"Loading ...\\\">\\r\\n            </ion-infinite-scroll-content>\\r\\n          </ion-infinite-scroll>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n\\r\\n      <ion-row class=\\\"ion-no-padding\\\" *ngIf=\\\"currentSegment=='alumni'\\\">\\r\\n        <ng-template ngFor let-alu [ngForOf]=\\\"alumni\\\">\\r\\n          <app-user-card [User]=\\\"alu?.user\\\" [Alumni]=\\\"alu\\\"></app-user-card>\\r\\n        </ng-template>\\r\\n\\r\\n        <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadMoreAlumni($event)\\\">\\r\\n          <ion-infinite-scroll-content loadingSpinner=\\\"bubbles\\\" loadingText=\\\"searching ...\\\">\\r\\n          </ion-infinite-scroll-content>\\r\\n        </ion-infinite-scroll>\\r\\n      </ion-row>\\r\\n\\r\\n      <ion-row class=\\\"ion-padding school-image-tiles w-100\\\" *ngIf=\\\"currentSegment=='followers'\\\">\\r\\n        <ion-col size=\\\"12\\\" class=\\\"ion-no-padding\\\">\\r\\n          <ng-template ngFor let-follower [ngForOf]=\\\"followers\\\">\\r\\n            <!-- <app-user-card [User]=\\\"follower\\\"></app-user-card> -->\\r\\n          </ng-template>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n\\r\\n\\r\\n\\r\\n    </ion-card>\\r\\n  </ion-row>\\r\\n\\r\\n</ion-content>\\r\\n\\r\\n<!-- <app-image-gallery class=\\\"w-100\\\"></app-image-gallery> -->\";","import { WidgetsModule } from './../../widgets/widgets.module';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\n\r\nimport { SchoolsProfilePage } from './schools-profile.page';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SchoolsProfilePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    WidgetsModule\r\n  ],\r\n  exports: [CommonModule],\r\n  declarations: [SchoolsProfilePage],\r\n})\r\nexport class SchoolsProfilePageModule { }\r\n","export default \".card-header-bg {\\n  background-attachment: fixed;\\n  background-position: top;\\n  background-repeat: no-repeat;\\n  background-size: contain;\\n  max-width: 100vw;\\n  height: 35vh;\\n  min-height: 250px;\\n}\\n\\nion-avatar {\\n  width: 80px;\\n  height: 80px;\\n  background: white;\\n  text-align: center;\\n  z-index: 4;\\n  margin-top: 50px;\\n  color: white;\\n  margin-left: calc(50% - 40px);\\n}\\n\\nion-avatar img {\\n  width: 80px;\\n  height: 80px;\\n}\\n\\n.backdrop {\\n  top: 0;\\n  position: absolute;\\n  z-index: 1;\\n  background: rgba(0, 0, 0, 0.4);\\n}\\n\\n.main {\\n  border-top-right-radius: 20px;\\n  border-top-left-radius: 20px;\\n  box-shadow: none;\\n  z-index: 4;\\n}\\n\\n.bio {\\n  text-align: center;\\n  width: 80%;\\n  max-width: 400px;\\n  margin: 0 auto;\\n}\\n\\n.fixed-profile-menu-atop {\\n  position: fixed !important;\\n  z-index: 10001 !important;\\n  background: white !important;\\n  width: 100% !important;\\n  margin-top: -260px !important;\\n  padding-top: 10px !important;\\n  height: 38px !important;\\n}\\n\\n.menu-col {\\n  margin-top: -16px !important;\\n  margin-bottom: 8px;\\n  padding-top: 6px !important;\\n  background: var(--ion-color-medium) !important;\\n}\\n\\n.min-menu {\\n  color: var(--ion-color-light);\\n}\\n\\n.tag {\\n  position: absolute !important;\\n  width: 100% !important;\\n  z-index: 10;\\n  background: transparent;\\n  padding: 0 !important;\\n  margin: 0 !important;\\n  padding-top: 8px !important;\\n  padding-right: 5px !important;\\n  color: white !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcHVibGljL3NjaG9vbHMtcHJvZmlsZS9zY2hvb2xzLXByb2ZpbGUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksNEJBQUE7RUFDQSx3QkFBQTtFQUNBLDRCQUFBO0VBQ0Esd0JBQUE7RUFDQSxnQkFBQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtBQUNKOztBQUlBO0VBQ0ksV0FBQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLGdCQUFBO0VBQ0EsWUFBQTtFQUNBLDZCQUFBO0FBREo7O0FBR0k7RUFDSSxXQUFBO0VBQ0EsWUFBQTtBQURSOztBQUtBO0VBQ0ksTUFBQTtFQUNBLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLDhCQUFBO0FBRko7O0FBS0E7RUFFSSw2QkFBQTtFQUNBLDRCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxVQUFBO0FBSEo7O0FBTUE7RUFDSSxrQkFBQTtFQUNBLFVBQUE7RUFDQSxnQkFBQTtFQUNBLGNBQUE7QUFISjs7QUFNQTtFQUNJLDBCQUFBO0VBQ0EseUJBQUE7RUFDQSw0QkFBQTtFQUNBLHNCQUFBO0VBQ0EsNkJBQUE7RUFDQSw0QkFBQTtFQUNBLHVCQUFBO0FBSEo7O0FBT0E7RUFDSSw0QkFBQTtFQUNBLGtCQUFBO0VBQ0EsMkJBQUE7RUFDQSw4Q0FBQTtBQUpKOztBQU9BO0VBQ0ksNkJBQUE7QUFKSjs7QUFPQTtFQUNJLDZCQUFBO0VBQ0Esc0JBQUE7RUFDQSxXQUFBO0VBQ0EsdUJBQUE7RUFDQSxxQkFBQTtFQUNBLG9CQUFBO0VBQ0EsMkJBQUE7RUFDQSw2QkFBQTtFQUNBLHVCQUFBO0FBSkoiLCJmaWxlIjoic3JjL2FwcC9wdWJsaWMvc2Nob29scy1wcm9maWxlL3NjaG9vbHMtcHJvZmlsZS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY2FyZC1oZWFkZXItYmcge1xyXG4gICAgYmFja2dyb3VuZC1hdHRhY2htZW50OiBmaXhlZDtcclxuICAgIGJhY2tncm91bmQtcG9zaXRpb246IHRvcDtcclxuICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XHJcbiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvbnRhaW47XHJcbiAgICBtYXgtd2lkdGg6IDEwMHZ3O1xyXG4gICAgaGVpZ2h0OiAzNXZoO1xyXG4gICAgbWluLWhlaWdodDogMjUwcHg7XHJcblxyXG5cclxufVxyXG5cclxuaW9uLWF2YXRhciB7XHJcbiAgICB3aWR0aDogODBweDtcclxuICAgIGhlaWdodDogODBweDtcclxuICAgIGJhY2tncm91bmQ6IHdoaXRlO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgei1pbmRleDogNDtcclxuICAgIG1hcmdpbi10b3A6IDUwcHg7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBtYXJnaW4tbGVmdDogY2FsYyg1MCUgLSA0MHB4KTtcclxuXHJcbiAgICBpbWcge1xyXG4gICAgICAgIHdpZHRoOiA4MHB4O1xyXG4gICAgICAgIGhlaWdodDogODBweDtcclxuICAgIH1cclxufVxyXG5cclxuLmJhY2tkcm9wIHtcclxuICAgIHRvcDogMDtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHotaW5kZXg6IDE7XHJcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKCRjb2xvcjogYmxhY2ssICRhbHBoYTogLjQpO1xyXG59XHJcblxyXG4ubWFpbiB7XHJcbiAgICAvLyBtYXJnaW4tdG9wOiAtMzBweDtcclxuICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAyMHB4O1xyXG4gICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogMjBweDtcclxuICAgIGJveC1zaGFkb3c6IG5vbmU7XHJcbiAgICB6LWluZGV4OiA0O1xyXG59XHJcblxyXG4uYmlvIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIHdpZHRoOiA4MCU7XHJcbiAgICBtYXgtd2lkdGg6IDQwMHB4O1xyXG4gICAgbWFyZ2luOiAwIGF1dG87XHJcbn1cclxuXHJcbi5maXhlZC1wcm9maWxlLW1lbnUtYXRvcCB7XHJcbiAgICBwb3NpdGlvbjogZml4ZWQgIWltcG9ydGFudDtcclxuICAgIHotaW5kZXg6IDEwMDAxICFpbXBvcnRhbnQ7XHJcbiAgICBiYWNrZ3JvdW5kOiB3aGl0ZSAhaW1wb3J0YW50O1xyXG4gICAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcclxuICAgIG1hcmdpbi10b3A6IC0yNjBweCAhaW1wb3J0YW50O1xyXG4gICAgcGFkZGluZy10b3A6IDEwcHggIWltcG9ydGFudDtcclxuICAgIGhlaWdodDogMzhweCAhaW1wb3J0YW50O1xyXG5cclxufVxyXG5cclxuLm1lbnUtY29sIHtcclxuICAgIG1hcmdpbi10b3A6IC0xNnB4ICAhaW1wb3J0YW50O1xyXG4gICAgbWFyZ2luLWJvdHRvbTogOHB4O1xyXG4gICAgcGFkZGluZy10b3A6IDZweCAgIWltcG9ydGFudDtcclxuICAgIGJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1tZWRpdW0pICAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4ubWluLW1lbnUge1xyXG4gICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1saWdodCk7XHJcbn1cclxuXHJcbi50YWcge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlICFpbXBvcnRhbnQ7XHJcbiAgICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xyXG4gICAgei1pbmRleDogMTA7XHJcbiAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcclxuICAgIHBhZGRpbmc6IDAgIWltcG9ydGFudDtcclxuICAgIG1hcmdpbjogMCAhaW1wb3J0YW50O1xyXG4gICAgcGFkZGluZy10b3A6IDhweCAhaW1wb3J0YW50O1xyXG4gICAgcGFkZGluZy1yaWdodDogNXB4ICFpbXBvcnRhbnQ7XHJcbiAgICBjb2xvcjogd2hpdGUgIWltcG9ydGFudDtcclxufSJdfQ== */\";","import { SocialService } from 'src/app/shared/services/model-service/social.service';\r\nimport { AlumniService } from './../../shared/services/model-service/alumni.service';\r\nimport { SchoolJoinComponent } from './../../widgets/school-join/school-join.component';\r\nimport { UserService } from 'src/app/shared/services/model-service/user.service';\r\nimport { SchoolService } from './../../shared/services/model-service/school.service';\r\nimport { MySignals } from './../../shared/services/my-signals';\r\nimport { Component, OnInit, OnDestroy, ViewChild, AfterViewInit } from '@angular/core';\r\nimport { School } from 'src/app/models/school';\r\nimport { UtilityService } from 'src/app/shared/services/providers/utility.service';\r\nimport { Router } from '@angular/router';\r\nimport { BrowserHistoryService } from 'src/app/shared/services/providers/navigation/browser-history.service';\r\nimport { IdentityPhoto } from 'src/app/models/my-media';\r\nimport { User } from 'src/app/models/user';\r\nimport { AlertController, IonInfiniteScroll, ModalController } from '@ionic/angular';\r\nimport { Post } from 'src/app/models/post';\r\nimport { PageInfo } from 'src/app/models/page';\r\nimport { PostService } from 'src/app/shared/services/model-service/post.service';\r\nimport { Alumni } from 'src/app/models/alumni';\r\n\r\n@Component({\r\n  selector: 'app-schools-profile',\r\n  templateUrl: './schools-profile.page.html',\r\n  styleUrls: ['./schools-profile.page.scss'],\r\n})\r\nexport class SchoolsProfilePage implements OnInit, OnDestroy, AfterViewInit {\r\n  currentSegment = 'posts';\r\n  school: School;\r\n  identityPhoto: IdentityPhoto; // includes cover, profile and flag\r\n  totalAlumni = 0;\r\n  alumni: Alumni[] = [];\r\n  schoolPosts: Post[] = [];\r\n  totalPost = 0;\r\n\r\n  followers: User[] = [];\r\n  totalFollowers = 0;\r\n  isFollowing: false;\r\n\r\n  previousPage = '';\r\n  sub$ = [];\r\n  modal: HTMLIonModalElement;\r\n\r\n  user: User;\r\n  isAlumni = false;\r\n  userSchoolAlumni: Alumni;\r\n\r\n  protected fixedMenu = false;\r\n\r\n  infiniteScrollTarget: any;\r\n  @ViewChild(IonInfiniteScroll) infiniteScroll: IonInfiniteScroll;\r\n\r\n  postLimit = 5;\r\n  postOffset = 0;\r\n\r\n  alumniLimit = 5;\r\n  alumniOffset = 0;\r\n\r\n  followersLimit = 5;\r\n  followersOffset = 0;\r\n\r\n  constructor(\r\n    private signals: MySignals,\r\n    private router: Router,\r\n    private browserHistory: BrowserHistoryService,\r\n    private schoolService: SchoolService,\r\n    private postService: PostService,\r\n    private userService: UserService,\r\n    public modalController: ModalController,\r\n    private alumniService: AlumniService,\r\n    private alert: AlertController,\r\n    private socialService: SocialService\r\n  ) {\r\n  }\r\n\r\n  async ngAfterViewInit() {\r\n    this.user = await this.userService.getUserLocal();\r\n    this.sub$.push(this.signals.selectedSchoolSource$.subscribe(school => {\r\n      this.school = school;\r\n      // console.log(this.school);\r\n      this.identityPhoto = SchoolService.getSchoolIdentityPhoto(school);\r\n      this.init();\r\n    }));\r\n\r\n    this.school = await this.schoolService.getSchoolLocal();\r\n    // console.log(this.school);\r\n    this.identityPhoto = SchoolService.getSchoolIdentityPhoto(this.school);\r\n    console.log(this.identityPhoto);\r\n    this.init();\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.sub$.push(\r\n      this.signals.reloadUserSchoolsSource$.subscribe(_ => {\r\n        this.init();\r\n      })\r\n    );\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    UtilityService.destroySubscription(this.sub$);\r\n  }\r\n\r\n  init() {\r\n    this.countAlumni();\r\n    this.getSchoolAlumni(true);\r\n    this.getSchoolPosts();\r\n    this.userIsAlumni();\r\n    this.getFollowers();\r\n    this.countFollowers();\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigateByUrl(this.browserHistory.getPreviousUrl());\r\n  }\r\n\r\n  set schoolFixedMenu(value: boolean) {\r\n    this.fixedMenu = value;\r\n  }\r\n\r\n\r\n  async join() {\r\n    if (!this.userService.isAuthenticated()) {\r\n      this.router.navigateByUrl('/login');\r\n      return;\r\n    }\r\n    this.modal = await this.modalController.create({\r\n      component: SchoolJoinComponent,\r\n      cssClass: 'my-custom-class',\r\n      componentProps: {\r\n        alumniCount: this.totalAlumni\r\n      }\r\n    });\r\n    this.signals.closeModalSource$.subscribe(name => {\r\n      if (name === 'join-school') {\r\n        this.modal.dismiss();\r\n        this.userIsAlumni();\r\n        this.countAlumni();\r\n      }\r\n    });\r\n    return await this.modal.present();\r\n  }\r\n\r\n\r\n  async leave() {\r\n    const alert = await this.alert.create({\r\n      cssClass: 'my-custom-class',\r\n      header: 'Confirm!',\r\n      message: 'Are you sure to leave school?',\r\n      buttons: [\r\n        {\r\n          text: 'No',\r\n          role: 'cancel',\r\n          cssClass: 'secondary',\r\n          handler: (blah) => {\r\n          }\r\n        },\r\n        {\r\n          text: 'Yes',\r\n          handler: () => {\r\n            // delete alumni object from the database\r\n            this.sub$.push(this.alumniService.deleteAlumni(this.user?.id, this.school?.id).subscribe(_ => {\r\n              this.userIsAlumni();\r\n              this.countAlumni();\r\n              this.signals.announceUserSchoolsReload();\r\n            }));\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  userIsAlumni() {\r\n    this.alumniService.isUserAlumni(this.user?.id, this.school?.id).subscribe(alu => {\r\n      if (alu?.id) {\r\n        this.isAlumni = true;\r\n      } else {\r\n        this.isAlumni = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  userIsFollowing($event) {\r\n    this.isFollowing = $event;\r\n  }\r\n\r\n  getProfilePhotoUrl() {\r\n    return SchoolService.getSchoolProfilePhotoUrl(this.identityPhoto);\r\n  }\r\n  getCoverPhotoUrl() {\r\n    return SchoolService.getSchoolCoverPhotoUrl(this.identityPhoto);\r\n  }\r\n  countAlumni() {\r\n    this.sub$.push(this.alumniService.countAlumni(this.school?.id).subscribe(count => {\r\n      this.totalAlumni = count;\r\n    }));\r\n  }\r\n\r\n  getSchoolPosts() {\r\n    const pageInfo: PageInfo = {\r\n      limit: this.postLimit,\r\n      offset: this.postOffset\r\n    };\r\n    this.sub$.push(this.postService.getSchoolPosts(this.school?.id, pageInfo).subscribe(posts => {\r\n      this.schoolPosts = [... this.schoolPosts, ...posts];\r\n      this.postOffset += posts?.length;\r\n      this.infiniteScrollTarget?.complete();\r\n    }));\r\n  }\r\n\r\n  loadMorePosts(event) {\r\n    this.infiniteScrollTarget = event.target;\r\n    this.getSchoolPosts();\r\n  }\r\n\r\n  countPost() {\r\n    this.sub$.push(this.postService.countSchoolPost(this.school?.id).subscribe(count => {\r\n      console.log(count);\r\n      this.totalPost = count;\r\n    }));\r\n  }\r\n\r\n  getSchoolAlumni(reset = false) {\r\n    if (reset) {\r\n      this.alumniOffset = 0;\r\n      this.alumni = [];\r\n    }\r\n    const pageInfo: PageInfo = {\r\n      limit: this.alumniLimit,\r\n      offset: this.alumniOffset\r\n    };\r\n\r\n    this.sub$.push(this.alumniService.getSchoolAlumni(this.school?.id, pageInfo).subscribe(alu => {\r\n      this.alumni = [...this.alumni, ...alu];\r\n      console.log(alu);\r\n      this.alumniOffset += alu?.length;\r\n      this.infiniteScrollTarget?.complete();\r\n    }));\r\n  }\r\n\r\n  loadMoreAlumni(event) {\r\n    this.infiniteScrollTarget = event.target;\r\n    this.getSchoolAlumni();\r\n  }\r\n\r\n\r\n\r\n  getFollowers(reset = false) {\r\n    if (reset) {\r\n      this.followersOffset = 0;\r\n      this.followers = [];\r\n      this.countFollowers();\r\n    }\r\n    const pageInfo: PageInfo = {\r\n      limit: this.followersLimit,\r\n      offset: this.followersOffset\r\n    };\r\n    // followers\r\n    this.socialService.getSchoolFollowers(this.school?.id, pageInfo).subscribe(users => {\r\n      this.followers = users;\r\n      this.alumniOffset += users?.length;\r\n      this.infiniteScrollTarget?.complete();\r\n    });\r\n  }\r\n\r\n\r\n  loadMoreFollowers(event) {\r\n    this.infiniteScrollTarget = event.target;\r\n    this.getFollowers();\r\n  }\r\n\r\n  countFollowers() {\r\n    this.socialService.countSchoolFollower(this.school?.id).subscribe(count => {\r\n      this.totalFollowers = count;\r\n    });\r\n  }\r\n\r\n\r\n\r\n}\r\n"]}